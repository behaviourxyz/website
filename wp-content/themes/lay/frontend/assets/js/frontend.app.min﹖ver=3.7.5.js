!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";n.r(t),n.d(t,"utility_controller",function(){return a}),n.d(t,"Utility",function(){return r});var i=n(2),o=Backbone.Radio.channel("events"),a={initModule:function(){k(),l(),P(),z(),S(),D(),x(),L(),I(),$(),M(),g(),s()},map:function(e,t,n,i,o){return C(e,t,n,i,o)},filterURL:function(e){return y(e)},isInternUrl:function(e){return f(e)},stringStartsWith:function(e,t){return h(e,t)},fixBody:function(){N()},unfixBody:function(){H()},stringifyCatIds:function(e){return c(e)},parseCatIds:function(e){return u(e)},fadeInImageOnLoadViaParent:function(e){d(e)},setSrcAndSrcSetViaParent:function(e){m(e)},setBodyClasses:function(e){Q(e)},setImageSizesAttribute:function(e){w(e)}},r={orientation:window.innerWidth>window.innerHeight?"landscape":"portrait",previousOrientation:window.innerWidth>window.innerHeight?"landscape":"portrait",isPhoneSize:null,isDesktopSize:null,isTabletSize:null,isNotPhoneSize:null,screenSize:null,breakpoint:parseInt(frontendPassedData.breakpoint,10),tabletBreakpoint:parseInt(frontendPassedData.tabletbreakpoint,10),phoneBreakpoint:parseInt(frontendPassedData.breakpoint,10),isTouchDevice:!1,supportsPlaysInline:!1,showOriginalImages:"on"==frontendPassedData.misc_options_showoriginalimages,imageSizes:["265","512","768","1024","1280","1920","2560","3200","3840","4096"]},s=function(){jQuery(window).on("fpAfterRender",function(){setTimeout(function(){j(),lazySizes.autoSizer.checkElems()},0)})},d=function(e){void 0===e&&(e=jQuery(".lay-content")),e.find("img.setsizes, img.lay-gif, img.lay-image-original").each(function(){var e=this;e.complete?e.classList.add("loaded"):e.addEventListener("load",function(){e.classList.add("loaded")})})},l=function(){jQuery(window).on("scroll",function(){o.trigger("scroll")})},c=function(e){if(""==e||void 0===e||null==e)return"[]";if("string"==typeof e)return e;for(var t=0;t<e.length;t++)e[t]=parseInt(e[t],10);return JSON.stringify(e)},u=function(e){if(""==e||void 0===e||null==e)return[];if(Array.isArray(e))return e;e=JSON.parse(e);for(var t=0;t<e.length;t++)e[t]=parseInt(e[t],10);return e},h=function(e,t){return e.slice(0,t.length).toLowerCase()==t.toLowerCase()},f=function(e){var t=frontendPassedData.siteUrl;t.startsWith("http://")?t=t.substr(7):t.startsWith("https://")&&(t=t.substr(8)),t.startsWith("www.")&&(t=t.substr(4));var n=e;if(n.startsWith("http://")?n=n.substr(7):n.startsWith("https://")&&(n=n.substr(8)),n.startsWith("www.")&&(n=n.substr(4)),n.startsWith(t))return!0},y=function(e){if(null!==e&&""!=e&&void 0!==e){var t=(e=p(e)).substring(0,5);if("http:"==t&&1==frontendPassedData.is_ssl)e="https:"+e.substring(5);else if("https"==t&&(0==frontendPassedData.is_ssl||""==frontendPassedData.is_ssl)){e="http"+e.substring(5)}if(1==frontendPassedData.has_www){if(1==frontendPassedData.is_ssl){if("https://www."!=e.substring(0,12))e="https://www."+e.substring(8)}else if("http://www."!=e.substring(0,11))e="http://www."+e.substring(7)}else if(1==frontendPassedData.is_ssl){if("https://www."==e.substring(0,12))e="https://"+e.substring(12)}else if("http://www."==e.substring(0,11))e="http://"+e.substring(11)}return e},p=function(e){return e.startsWith("mailto:")||e.startsWith("#")||e.startsWith("tel:")?e:"/"==e.substr(0,1)?frontendPassedData.siteUrl+e:e},g=function(){window.laytheme.on("newpageshown",function(e,t,n){setTimeout(function(){void 0!==window.instgrm&&window.instgrm.Embeds.process()},0),w(),v()}),window.laytheme.on("searchresultshown",function(){var e=jQuery("#search-region");m(e),w(e),d(e),v()})},m=function(e){e.find("img.setsizes").each(function(){var e=jQuery(this).attr("data-srcset"),t=jQuery(this).attr("data-src");jQuery(this).attr({src:t,srcset:e})}),e.find("img.lay-gif, img.lay-image-original").each(function(){var e=jQuery(this).attr("data-src");jQuery(this).attr("src",e)})},v=function(){window.respimage&&window.respimage()},w=function(e){void 0===e&&(e=jQuery("body")),e.find("img.setsizes:not(img.setsizes-objectfit-cover)").each(function(){var e=this.clientWidth;if(0==e){var t=jQuery(this).attr("data-ar");e=this.clientHeight/t}e=b(e),jQuery(this).attr("sizes",e+"px")}),j()},b=function(e){for(var t=[265,512,768,1024,1280,1920,2560,3200,3840,4096],n=e,i=0;i<t.length;i++)if(t[i]>=e){n=t[i];break}return n},j=function(e){void 0===e&&(e=jQuery("body")),e.find(".background-image img.setsizes.setsizes-objectfit-cover").each(function(){var e=this.parentNode.getBoundingClientRect(),t=parseInt(jQuery(this).attr("data-w"),10),n=parseInt(jQuery(this).attr("data-h"),10),i=0;t/n<e.width/e.height?i=e.width:i=n/t*e.height;i=b(i),jQuery(this).attr("sizes",parseInt(i,10)+"px")})},Q=function(e){var t="type-"+e.type+" id-"+e.id+" slug-"+e.slug;if(void 0!==e.catid)for(var n=0;n<e.catid.length;n++)t+=" category-"+e.catid[n]+" ";!function(e,t,n){if(-1===t.indexOf("*"))return e.removeClass(t),n?e.addClass(n):e;var i=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");e.each(function(e,t){for(var n=" "+t.className+" ";i.test(n);)n=n.replace(i," ");t.className=jQuery.trim(n)}),n&&e.addClass(n)}(jQuery("body"),"type-* id-* slug-* category-*",t),jQuery("body").attr({"data-type":e.type,"data-id":e.id,"data-slug":e.slug,"data-catid":c(e.catid)})},C=function(e,t,n,i,o){return i+(e-t)/(n-t)*(o-i)},x=function(){r.isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),null==r.isTouchDevice&&(r.isTouchDevice=!1)},k=function(){var e=window.innerWidth;jQuery(window).on("resize",function(){e!=window.innerWidth&&jQuery(window).trigger("window_width_changed"),e=window.innerWidth})},P=function(){jQuery(window).on("orientationchange window_width_changed",function(){S(),D()}),jQuery(window).on("window_width_changed",_.debounce(function(){w()},300))},D=function(){r.orientation=window.innerWidth>window.innerHeight?"landscape":"portrait",r.orientation!=r.previousOrientation&&window.laytheme.trigger("orientationchanged",r.orientation),r.previousOrientation=r.orientation},z=function(){window.innerWidth<=r.phoneBreakpoint?r.screenSize="phone":window.innerWidth<=r.tabletBreakpoint?r.screenSize="tablet":r.screenSize="desktop"},S=function(){var e=r.screenSize;switch(window.innerWidth<=r.phoneBreakpoint?r.screenSize="phone":window.innerWidth<=r.tabletBreakpoint?r.screenSize="tablet":r.screenSize="desktop",r.screenSize){case"desktop":jQuery("html").addClass("desktop-size").removeClass("tablet-size phone-size"),r.isPhoneSize=!1,r.isTabletSize=!1,r.isDesktopSize=!0,r.isDesktopOrTabletSize=!0;break;case"tablet":jQuery("html").addClass("tablet-size").removeClass("desktop-size phone-size"),r.isPhoneSize=!1,r.isTabletSize=!0,r.isDesktopSize=!1,r.isDesktopOrTabletSize=!0;break;case"phone":jQuery("html").addClass("phone-size").removeClass("desktop-size tablet-size"),r.isPhoneSize=!0,r.isTabletSize=!1,r.isDesktopSize=!1,r.isDesktopOrTabletSize=!1}e!=r.screenSize&&i.a.triggerSizeChanged(r.screenSize)},$=function(){"instant_load"==frontendPassedData.image_loading&&window.laytheme.on("newpageshown",function(){jQuery(".img img.lazyload, .thumb img.lazyload, .background-image img.lazyload").get().forEach(lazySizes.loader.unveil),setTimeout(function(){jQuery(".lay-carousel-slide.is-selected img").get().forEach(lazySizes.loader.unveil)},200)})},M=function(){Modernizr.objectfit||(window.laytheme.on("newpageshown",O),jQuery(window).on("resize orientationchange",O))},O=function(){setTimeout(function(){jQuery(".background-image img").each(function(){var e=jQuery(this).attr("data-ar"),t=this.parentNode.getBoundingClientRect(),n=t.height/t.width;void 0!==e?e>n?jQuery(this).addClass("bgw100").removeClass("bgh100"):jQuery(this).addClass("bgh100").removeClass("bgw100"):jQuery(this).addClass("bgw100").removeClass("bgh100")}),j(),jQuery(".background-video video").each(function(){var e=jQuery(this).attr("data-ar"),t=this.parentNode.getBoundingClientRect(),n=t.height/t.width;void 0!==e?e>n?jQuery(this).addClass("w100").removeClass("h100"):jQuery(this).addClass("h100").removeClass("w100"):jQuery(this).addClass("w100").removeClass("h100")})},0)},I=function(){var e=[265,512,768,1024,1280,1920,2560,3200,3840,4096];document.addEventListener("lazybeforesizes",function(t){var n;for(n=0;n<e.length;n++)if(e[n]>=t.detail.width){t.detail.width=e[n];break}})},L=function(){if(r.supportsPlaysInline=!1,r.isTouchDevice){var e=new MobileDetect(window.navigator.userAgent);if("iOS"==e.os()&&"Safari"==e.userAgent()&&e.version("Safari")>=10)return void(r.supportsPlaysInline=!0);if("AndroidOS"==e.os()&&"Chrome"==e.userAgent()&&e.version("Chrome")>=53)return void(r.supportsPlaysInline=!0);r.supportsPlaysInline=!0}},T=!1,A=0,N=function(){T||(T=!0,A=window.pageYOffset||document.documentElement.scrollTop,jQuery("body").css({top:-A+"px"}),setTimeout(function(){jQuery("body").css("position","fixed")},0))},H=function(){T&&(T=!1,jQuery("body").css("position",""),jQuery(document).scrollTop(A))}},function(e,t,n){"use strict";n.r(t),n.d(t,"load_visible_images_then_rest_controller",function(){return s});var i=n(0),o=function(e){if(e.hasClass("setsizes")){var t=e.attr("data-srcset"),n=e.attr("data-src");e.attr({src:n,srcset:t})}else if(e.hasClass("lay-gif")||e.hasClass("lay-image-original")){n=e.attr("data-src");e.attr("src",n)}},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect();return n.top<=window.innerHeight&&n.height>0+t},r=function(e,t,n){return 1==e};var s={initLoadImages:function(e){i.Utility.isTouchDevice?e.find("img.setsizes, img.lay-gif, img.lay-image-original").each(function(){o(jQuery(this))}):new function(e){var t=e,n=[],i=[],s=[],d=function(){for(var e=0;e<s.length;e++){var t=jQuery(s[e]);o(t)}};return{loadImages:function(){t.find("img.setsizes, img.lay-gif, img.lay-image-original").each(function(){a(this)?(n.push(this),i.push(!1)):s.push(this)});for(var e=0;e<n.length;e++)!function(e){var t=jQuery(n[e]);o(t),t[0].complete?i[e]=!0:t[0].addEventListener("load",function(){i[e]=!0})}(e);if(n.length>0)var l=setInterval(function(){i.every(r)&&(d(),clearInterval(l))},30);else d()}}}(e).loadImages()},loadImage:o,isInsideViewportHeight:a}},function(e,t,n){"use strict";var i={triggerNewProjectPageLayoutObj:function(e){window.laytheme.trigger("newprojectpagelayoutobj",e),window.Frontend.GlobalEvents.trigger("newprojectpagelayoutobj",e)},triggerProjectPageShown:function(){window.laytheme.trigger("projectpageshown"),window.Frontend.GlobalEvents.trigger("projectpageshown")},triggerNewPage:function(e,t,n){window.laytheme.trigger("newpage",e,t,n),window.Frontend.GlobalEvents.trigger("newpage",e,t,n)},triggerNewPageShown:function(e,t,n){window.laytheme.trigger("newpageshown",e,t,n),window.Frontend.GlobalEvents.trigger("newpageshown",e,t,n)},triggerSwitchedDesktopLayoutToCustomPhoneLayout:function(){window.laytheme.trigger("switched_desktoplayout_to_customphonelayout")},triggerSwitchedCustomPhoneLayoutToDesktopLayout:function(){window.laytheme.trigger("switched_customphonelayout_to_desktoplayout")},triggerGridShown:function(e,t,n,i){window.laytheme.trigger("gridshown",e,t,n,i)},triggerSizeChanged:function(e){window.laytheme.trigger("sizechanged",e)},triggerPushState:function(){window.laytheme.trigger("pushstate")}};t.a=i},function(e,t,n){"use strict";n.r(t);var i=n(0),o=[],a=function(e){this.identifier=e,this.$nav_el=jQuery("nav."+e),this.suffix="primary"==e?"":"_"+e,this.nav_hide=frontendPassedData.nav_customizer_properties["nav_hide"+this.suffix],this.nav_hidewhenscrollingdown=frontendPassedData.nav_customizer_properties["nav_hidewhenscrollingdown"+this.suffix],this.nav_hidewhenscrolling_show_on_mouseover=frontendPassedData.nav_customizer_properties["nav_hidewhenscrolling_show_on_mouseover"+this.suffix],this.nav_position=frontendPassedData.nav_customizer_properties["nav_position"+this.suffix],this.rect=null,this.height_and_space_around=null,this.set_height_and_space_around()};a.prototype.setRect=function(){this.rect=this.$nav_el[0].getBoundingClientRect()},a.prototype.set_height_and_space_around=function(){this.setRect(),this.height_and_space_around=this.$nav_el.outerHeight(),-1!=this.nav_position.indexOf("top")?this.height_and_space_around+=this.rect.top:this.height_and_space_around+=window.innerHeight-this.rect.bottom,this.height_and_space_around+=20},a.prototype.show_on_mouseover=function(e){this.nav_hidewhenscrolling_show_on_mouseover&&-1!=this.nav_position.indexOf(e)&&this.show()},a.prototype.show=function(){this.nav_hidewhenscrollingdown&&!this.nav_hide&&(0!=window.lay_lightbox_opened&&void 0!==window.lay_lightbox_opened||this.$nav_el.hasClass("hidden")&&this.$nav_el.removeClass("hidden").css({top:"",bottom:""}))},a.prototype.hide=function(){if(this.nav_hidewhenscrollingdown&&i.Utility.isDesktopOrTabletSize&&!this.nav_hide&&(this.setRect(),!this.$nav_el.hasClass("hidden"))){if(-1!=this.nav_position.indexOf("top")){var e=this.rect.top-this.height_and_space_around;this.$nav_el.css("top",e+"px")}else{e=window.innerHeight-this.rect.bottom-this.height_and_space_around;this.$nav_el.css("bottom",e+"px")}this.$nav_el.addClass("hidden")}};jQuery(document).ready(function(){!function(){switch(parseInt(frontendPassedData.nav_amount,10)){case 1:var e=new a("primary");o=[e];break;case 2:e=new a("primary");var t=new a("second_menu");o=[e,t];break;case 3:e=new a("primary"),t=new a("second_menu");var n=new a("third_menu");o=[e,t,n];break;case 4:e=new a("primary"),t=new a("second_menu"),n=new a("third_menu");var i=new a("fourth_menu");o=[e,t,n,i]}}()});var r=function(){return o},s=Backbone.Radio.channel("events"),d={initModule:function(){Q()},showAll:function(){x()},hideAll:function(){C()},setJqueryMap:function(){v()},hideSt:function(){p()},showSt:function(){y()},getStPos:function(){return f()}},l=(t.default=d,20),c=50,u={oldScrollY:0,stheight:0,st_pos:"top",st_hidewhenscrollingdown:!1,st_exists:!0,navbar_exists:!0,navbar_hidewhenscrollingdown:!1,mouseover_target_area_bottom:0,mouseover_target_area_top:0},h={$navbar:null,$st:null},f=function(){return u.st_pos},y=function(){u.st_hidewhenscrollingdown&&u.st_exists&&(0!=window.lay_lightbox_opened&&void 0!==window.lay_lightbox_opened||h.$st.hasClass("hidden")&&h.$st.removeClass("hidden").css({top:"",bottom:""}))},p=function(){if(u.st_hidewhenscrollingdown&&i.Utility.isDesktopOrTabletSize&&u.st_exists&&!h.$st.hasClass("hidden")){var e=h.$st[0].getBoundingClientRect();if("top"==u.st_pos||"center"==u.st_pos){var t=e.top-u.stheight;h.$st.css("top",t+"px")}else if("bottom"==u.st_pos){t=window.innerHeight-e.bottom-u.stheight;h.$st.css("bottom",t+"px")}h.$st.addClass("hidden")}},g=function(){for(var e=r(),t=0;t<e.length;t++)e[t].hide()},m=function(){for(var e=r(),t=0;t<e.length;t++)e[t].show()},v=function(){u.navbar_exists&&(h.$navbar=jQuery(".navbar")),u.st_hidewhenscrollingdown&&u.st_exists&&(h.$st=jQuery(".sitetitle"))},w=function(){if(u.navbar_exists&&u.navbar_hidewhenscrollingdown&&i.Utility.isDesktopOrTabletSize&&!h.$navbar.hasClass("hidden")){var e=h.$navbar[0].getBoundingClientRect();"top"==frontendPassedData.navbar_position?h.$navbar.css("top",-e.height+"px"):"bottom"==frontendPassedData.navbar_position&&h.$navbar.css("bottom",-e.height+"px"),h.$navbar.addClass("hidden")}},b=function(){u.navbar_exists&&u.navbar_hidewhenscrollingdown&&(0!=window.lay_lightbox_opened&&void 0!==window.lay_lightbox_opened||h.$navbar.removeClass("hidden").css({top:"",bottom:""}))},j=function(){if(u.stheight=0,u.st_exists&&u.st_hidewhenscrollingdown){var e=h.$st.outerHeight();"top"==u.st_pos||"center"==u.st_pos?e+=h.$st[0].getBoundingClientRect().top:"bottom"==u.st_pos&&(e+=window.innerHeight-h.$st[0].getBoundingClientRect().bottom),e+=l,u.stheight=e}},Q=function(){if(-1!=frontendPassedData.st_position.indexOf("top")?u.st_pos="top":-1!=frontendPassedData.st_position.indexOf("bottom")?u.st_pos="bottom":u.st_pos="center",1==frontendPassedData.st_hidewhenscrollingdown?u.st_hidewhenscrollingdown=!0:u.st_hidewhenscrollingdown=!1,1==frontendPassedData.st_hide?u.st_exists=!1:u.st_exists=!0,1==frontendPassedData.navbar_hide?u.navbar_exists=!1:u.navbar_exists=!0,1==frontendPassedData.navbar_hidewhenscrollingdown?u.navbar_hidewhenscrollingdown=!0:u.navbar_hidewhenscrollingdown=!1,v(),j(),s.on("scroll",function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>0&&e<jQuery(document).outerHeight()-window.innerHeight&&i.Utility.isDesktopOrTabletSize&&(e>u.oldScrollY&&e>c&&(u.startedScrollingUpY=e,g(),p(),w()),e<u.oldScrollY&&e<u.startedScrollingUpY-c/2&&(m(),y(),b()),e<c&&(m(),y(),b()),u.oldScrollY=e)}),jQuery(window).on("resize",_.debounce(function(){j();for(var e=r(),t=0;t<e.length;t++)e[t].set_height_and_space_around()},300)),jQuery(window).on("mousemove",_.throttle(function(e){if(i.Utility.isDesktopOrTabletSize){var t=r();if(e.clientY<=u.mouseover_target_area_top){for(var n=0;n<t.length;n++)t[n].show_on_mouseover("top");"top"==u.st_pos&&y(),"top"==frontendPassedData.navbar_position&&b()}if(e.clientY>=window.innerHeight-u.mouseover_target_area_bottom){for(n=0;n<t.length;n++)t[n].show_on_mouseover("bottom");"bottom"==u.st_pos&&y(),"bottom"==frontendPassedData.navbar_position&&b()}}},100)),function(){var e=0;"top"==u.st_pos&&(e=u.stheight);for(var t=r(),n=0;n<t.length;n++)if(-1!=t[n].nav_position.indexOf("top")){var i=t[n].height_and_space_around;i>e&&(e=i)}if("top"==frontendPassedData.navbar_position&&u.navbar_exists){var o=h.$navbar.height();e=e<o?o:e}u.mouseover_target_area_top=e}(),function(){var e=0;"bottom"==u.st_pos&&(e=u.stheight);for(var t=r(),n=0;n<t.length;n++)if(-1!=t[n].nav_position.indexOf("bottom")){var i=t[n].height_and_space_around;i>e&&(e=i)}if("bottom"==frontendPassedData.navbar_position&&u.navbar_exists){var o=h.$navbar.height();e=e<o?o:e}u.mouseover_target_area_bottom=e}(),jQuery(".sitetitle").hasClass("img")){var e=jQuery(".sitetitle img")[0];e.complete?j():e.onload=function(){j()}}window.laytheme.on("newpageshown",function(){x()})},C=function(){g(),p(),hideNavBar()},x=function(){m(),y(),b()}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var i={isIOS:!1,isTouchDevice:!1},o={initModule:function(){r()}};t.default=o;var a=function(){jQuery(".html5video video").each(function(){var e=this,t=jQuery(this.parentNode).find(".html5video-customplayicon"),n=jQuery(this.parentNode).find(".html5-video-placeholder-image");t.on("click",function(){jQuery(e).addClass("userinteractedwith-playing"),jQuery(e).removeClass("userinteractedwith-paused"),jQuery(e).show(),jQuery(e)[0].play(),jQuery(this).hide(),n.hide()})}),jQuery(".html5video .html5-video-placeholder-image.playpauseonclick").each(function(){var e=jQuery(this.parentNode).find("video"),t=jQuery(this.parentNode).find(".html5video-customplayicon");jQuery(this).on("click",function(){jQuery(e).addClass("userinteractedwith-playing"),jQuery(e).removeClass("userinteractedwith-paused"),jQuery(e).show(),jQuery(e)[0].play(),jQuery(this).hide(),t.hide()})});var e=".html5video video.playpauseonclick";i.isTouchDevice&&(e=".html5video video"),jQuery(e).on("click",function(){this.paused?(this.play(),jQuery(this.parentNode).find(".html5video-customplayicon").hide(),jQuery(this).addClass("userinteractedwith-playing"),jQuery(this).removeClass("userinteractedwith-paused")):(this.pause(),jQuery(this.parentNode).find(".html5video-customplayicon").show(),jQuery(this).removeClass("userinteractedwith-playing"),jQuery(this).addClass("userinteractedwith-paused"))})},r=function(){i.isIOS=/iPad|iPhone|iPod/.test(navigator.platform),i.isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),window.laytheme.on("newpageshown",a),i.isTouchDevice||"play_on_mouseover"==frontendPassedData.video_thumbnail_mouseover_behaviour&&(jQuery("body").on("mouseenter",".thumb-rel",function(){var e=jQuery(this).find("video");e.length>0&&e[0].play()}),jQuery("body").on("mouseleave",".thumb-rel",function(){var e=jQuery(this).find("video");e.length>0&&e[0].pause()})),jQuery(document).on("click",".lay-mute-unmute-button",function(e){e.stopPropagation(),e.preventDefault(),jQuery(this).toggleClass("unmuted");var t=jQuery(this.parentNode).find("video")[0];if(t.muted=!t.muted,jQuery(this.parentNode).hasClass("video-slide")&&0==t.muted){var n=jQuery(this).closest(".lay-carousel").find(".lay-mute-unmute-button"),i=jQuery(this);n.each(function(){jQuery(this).is(i)||(jQuery(this).removeClass("unmuted"),jQuery(this.parentNode).find("video")[0].muted=!0)})}})}},function(e,t,n){"use strict";n.r(t);var i=n(0),o=Backbone.Radio.channel("events"),a={initModule:function(){d()}},r={$cover:null},s={doDarken:!1,doParallax:!1,enabled:!1},d=function(){"on"==frontendPassedData.misc_options_cover&&(s.enabled=!0,"on"==frontendPassedData.cover_darken_when_scrolling&&(s.doDarken=!0),"on"==frontendPassedData.cover_parallaxmove_when_scrolling&&(s.doParallax=!0),window.laytheme.on("newpage",function(e,t,n){p()}),window.laytheme.on("newpageshown",function(){p(),r.$cover=jQuery(".cover-region"),r.$cover.length>0&&(u(),i.Utility.isPhoneSize&&1==frontendPassedData.cover_disable_for_phone?s.enabled=!1:s.enabled=!0,v(),f(),c(),g())}))},l=function(e){switch(e){case"desktop":case"tablet":1==frontendPassedData.cover_disable_for_phone&&0==s.enabled&&(s.enabled=!0,g());break;case"phone":1==frontendPassedData.cover_disable_for_phone&&(s.enabled=!1,r.$cover.attr("style",""),jQuery(".cover-region").removeClass("clickable-cover"),jQuery(".cover-region").on("click"),p())}},c=function(){jQuery(window).off("window_width_changed",h),jQuery(window).on("window_width_changed",h)},u=function(){window.laytheme.off("sizechanged",l),window.laytheme.on("sizechanged",l)},h=function(){y()},f=function(){jQuery(".cover-region").css({top:"",height:"","min-height":""}),jQuery(".cover-region-placeholder, .cover-region .row, .cover-region .row-inner, .cover-region .column-wrap, .cover-inner").css({height:"","min-height":""})},y=function(){if(r.$cover.is(":visible")&&s.enabled&&i.Utility.isPhoneSize){var e=jQuery(".navbar").height();jQuery(".navbar").is(":visible")||(e=0),jQuery(".cover-region").css({top:e+"px",height:window.innerHeight-e+"px","min-height":window.innerHeight-e+"px"}),jQuery(".cover-region-placeholder, .cover-region .row, .cover-region .row-inner, .cover-region .column-wrap, .cover-inner").css({height:window.innerHeight-e+"px","min-height":window.innerHeight-e+"px"})}else f()},p=function(){o.off("scroll",m)},g=function(){o.off("scroll",m),o.on("scroll",m)},m=function(){var e=window.pageYOffset||document.documentElement.scrollTop;if(e<=window.innerHeight&&r.$cover.is(":visible")&&s.enabled){if(s.doDarken){var t=i.utility_controller.map(e,0,window.innerHeight,1,.2);t>1&&(t=1),r.$cover.css({filter:"brightness("+t+")","-webkit-filter":"brightness("+t+")"})}if(s.doParallax){var n=i.utility_controller.map(e,0,window.innerHeight,0,window.innerHeight/3);r.$cover.css({transform:"translateY(-"+n+"px)","-webkit-transform":"translateY(-"+n+"px)"})}}},v=function(){"on"==frontendPassedData.cover_scrolldown_on_click&&s.enabled&&(jQuery(".cover-region").addClass("clickable-cover"),jQuery(".cover-region").on("click",function(){var e=jQuery("html, body"),t=window.innerHeight;e.animate({scrollTop:t},400,"easeOutSine",function(){e.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",w)}),e.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",e,w)}))},w=function(e){e.data.stop()},b=n(2),j=function(){"on"==frontendPassedData.phone_layout_active&&(window.laytheme.on("newpageshown",C),x())},Q={mainHasCustomPhoneGrid:!1,footerHasCustomPhoneGrid:!1},C=function(){Q.mainHasCustomPhoneGrid=1==jQuery("#custom-phone-grid").length,Q.footerHasCustomPhoneGrid=1==jQuery("#footer-custom-phone-grid").length},x=function(){var e=i.Utility.screenSize;jQuery(window).on("window_width_changed orientationchange",function(){!("phone"==i.Utility.screenSize&&"tablet"==e||"phone"==i.Utility.screenSize&&"desktop"==e)||0==Q.mainHasCustomPhoneGrid&&0==Q.footerHasCustomPhoneGrid?!("tablet"==i.Utility.screenSize&&"phone"==e||"desktop"==i.Utility.screenSize&&"phone"==e)||0==Q.mainHasCustomPhoneGrid&&0==Q.footerHasCustomPhoneGrid||b.a.triggerSwitchedCustomPhoneLayoutToDesktopLayout():b.a.triggerSwitchedDesktopLayoutToCustomPhoneLayout(),e=i.Utility.screenSize})};function k(){var e=jQuery(".password-form input").val();G.showLayout(e)}window.laytheme.on("newpageshown",function(){jQuery(".password-form").length>0&&(jQuery(".password-ok").on("click",function(){k()}),jQuery(".password-form input").on("keyup",function(e){13===e.keyCode&&k()}))});var P,D,z,S,$,M,O,I,L={animationTimer:null,animationInterval:null,animDur:300},T=function(){L.animDur=parseInt(frontendPassedData.navigation_transition_duration,10)/2},A=function(){L.animationTimer=0,clearInterval(L.animationInterval),L.animationInterval=setInterval(function(){L.animationTimer+=50,L.animationTimer>=L.animDur&&(window.laytheme.trigger("content_fadeout_transition_ended"),clearInterval(L.animationInterval))},50)},N=function(){return clearInterval(L.animationInterval),L.animationTimer>=L.animDur?0:L.animDur-L.animationTimer},H={showLayout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";W(e)},initModule:function(){Y()},hideRegions:function(){E()}},B={type:null,isFirstLoad:!0,gridObj:null},U={$body:null},R=null,W=function(e){var t=U.$body.attr("data-type"),n=U.$body.attr("data-id");B.type=t;var o={action:"get_laytheme_layout",id:n,type:t,password:e};R&&R.abort(),R=jQuery.ajax({url:frontendPassedData.ajax_url,data:o,type:"post",success:function(e){var t=window.JSON.parse(e);if("wrongpassword"==t.notification)jQuery(".password-form").addClass("wrong-password"),setTimeout(function(){jQuery(".password-form").removeClass("wrong-password")},300);else{clearTimeout(P);var n=N();P=setTimeout(function(){jQuery(".lay-content").replaceWith(t.markup),i.utility_controller.setBodyClasses(t.obj),b.a.triggerNewPageShown({},t.type,t.obj),setTimeout(function(){jQuery("body").removeClass("hide-content")},50)},n)}},error:function(e){console.log("error loading page"),console.log(e)}})},E=function(){jQuery("body").addClass("hide-content")},Y=function(){U.$body=jQuery("body")},G=H,q={initModule:function(){ee()}},F=Backbone.Radio.channel("events"),V=q,X={cols:[],scrollY:0,parallaxActive:!1},J=function(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}},K=function(){X.scrollY=window.pageYOffset||document.documentElement.scrollTop;for(var e=0;e<X.cols.length;e++)if(0!=X.cols[e][1]){var t=(r=X.cols[e][0][0].getBoundingClientRect()).top+X.scrollY,n=t-window.innerHeight-X.cols[e][2];n<0&&(n=0);var o=t+r.height-X.cols[e][2],a=i.utility_controller.map(X.scrollY,n,o,0,100);if(!(a<0||a>100)){X.cols[e][2]=a*X.cols[e][1]*11.2;var r,s=X.cols[e][2]+window.innerWidth/100*X.cols[e][3];if(1==X.cols[e][5])s-=(r=X.cols[e][0][0].getBoundingClientRect()).height/2;var d=X.cols[e][4];X.cols[e][0].css(J("translate("+d+"vw, "+s+"px)"))}}},Z=function(){var e;window.laytheme.on("newpageshown",function(){X.cols=[],jQuery(".col[data-yvel]").each(function(){var e=jQuery(this).attr("data-yvel");e<1&&(e=1),e=parseFloat(e),e=-(e-=1);var t=jQuery(this).attr("data-offsety");void 0===t&&(t=0);var n=jQuery(this).attr("data-offsetx");void 0===n&&(n=0);var i=!1;jQuery(this.parentNode.parentNode).hasClass("_100vh")&&jQuery(this).hasClass("align-middle")&&"text"==jQuery(this).attr("data-type")&&(i=!0);var o=[jQuery(this),e,0,t,n,i];X.cols.push(o)}),F.off("scroll",K),X.scrollY=0,X.cols.length>0&&(i.Utility.isDesktopOrTabletSize||Q.mainHasCustomPhoneGrid)&&(F.on("scroll",K),X.parallaxActive=!0)}),e=i.Utility.screenSize,jQuery(window).on("window_width_changed orientationchange",function(){"phone"==i.Utility.screenSize&&"tablet"==e&&0==Q.mainHasCustomPhoneGrid?1==X.parallaxActive&&(jQuery(".col").css(J("translate(0,0)")),F.off("scroll",K),X.parallaxActive=!1):"tablet"==i.Utility.screenSize&&"phone"==e&&0==X.parallaxActive&&X.cols.length>0&&(F.on("scroll",K),X.parallaxActive=!0),X.parallaxActive&&jQuery(window).trigger("scroll"),e=i.Utility.screenSize})},ee=function(){"on"==frontendPassedData.simple_parallax&&Z()},te=n(5),ne={getProjectLinkAttrs:function(e){return se(e)},getCatId:function(e){return ce(e)},getCatLength:function(e){return le(e)},showHideProjectArrows:function(e){re(e)},maybeHideProjectArrowsOnInit:function(e){ae(e)},initModule:function(){he()}},ie={id:null,catid:null,type:null,projectsMeta:[]},oe={$pa_next:null,$pa_prev:null,$body:null},ae=function(e){"project"==e.type&&"on"==frontendPassedData.show_arrows&&(le(e.catid)<=1&&jQuery(".project-arrow").addClass("hide"));"project"!=e.type&&jQuery(".project-arrow").addClass("hide")},re=function(e){if("on"==frontendPassedData.show_arrows){if(null==e)return;var t=e.type;if("project"!=e.type&&jQuery(".project-arrow").addClass("hide"),"project"==e.type)le(e.catid)<=1?jQuery(".project-arrow").addClass("hide"):"project-thumbnails"!=frontendPassedData.pa_type&&jQuery(".project-arrow").removeClass("hide");"project"==t&&"project"==e.type&&"project-thumbnails"==frontendPassedData.pa_type&&jQuery(".project-arrow").addClass("hide")}},se=function(e){if("undefined"!=typeof obj)return'href="'+obj.url+'" data-catid="'+obj.catid+'" data-id="'+obj.id+'" data-title="'+obj.title+'" data-type="project"'},de=function(e){var t=function(e){switch(frontendPassedData.prevnext_navigate_through){case"same_category":var t=ie.id,n=ie.catid,i=ue(n);if(void 0===ie.projectsMeta[i])return 0;var o=ie.projectsMeta[i].length;for(r=0;r<o;r++)if(t==ie.projectsMeta[i][r].id){a=r;break}return"next"==e?++a==o&&(a=0):"prev"==e&&--a<0&&(a=o-1),a;case"all_projects":var a,r;for(t=ie.id,o=ie.projectsMeta.length,r=0;r<o;r++)if(t==ie.projectsMeta[r].id){a=r;break}return"next"==e?++a==o&&(a=0):"prev"==e&&--a<0&&(a=o-1),a}}(e);if(jQuery.isNumeric(t))switch(frontendPassedData.prevnext_navigate_through){case"same_category":var n=ie.catid,i=ue(n);if(void 0!==i)return{title:ie.projectsMeta[i][t].title,url:ie.projectsMeta[i][t].url,id:ie.projectsMeta[i][t].id,catid:ie.projectsMeta[i][t].catid,thumb:ie.projectsMeta[i][t].thumb,thumbar:ie.projectsMeta[i][t].thumbar};break;case"all_projects":return{title:ie.projectsMeta[t].title,url:ie.projectsMeta[t].url,id:ie.projectsMeta[t].id,catid:ie.projectsMeta[t].catid,thumb:ie.projectsMeta[t].thumb,thumbar:ie.projectsMeta[t].thumbar}}},le=function(e){if(void 0!==e&&""!=e){if("same_category"==frontendPassedData.prevnext_navigate_through){var t=ue(e);return ie.projectsMeta[t].length}return ie.projectsMeta.length}},ce=function(e){var t=[];switch(frontendPassedData.prevnext_navigate_through){case"same_category":for(var n in ie.projectsMeta)for(var i=0;i<ie.projectsMeta[n].length;i++)ie.projectsMeta[n][i].id==e&&t.push(n);break;case"all_projects":for(i=0;i<ie.projectsMeta.length;i++)e==ie.projectsMeta[i].id&&t.push(ie.projectsMeta[i].catid)}return t},ue=function(e){return Array.isArray(e)?e[0]:e},he=function(){oe.$pa_next=jQuery(".pa-next"),oe.$pa_prev=jQuery(".pa-prev"),oe.$body=jQuery("body"),ie.projectsMeta=JSON.parse(frontendPassedData.projectsMeta),window.laytheme.on("newpageshown",function(){re(window.history.state),ie.catid=i.utility_controller.parseCatIds(oe.$body.attr("data-catid")),ie.id=oe.$body.attr("data-id"),ie.type=oe.$body.attr("data-type"),function(){if("on"==frontendPassedData.show_arrows&&"project"==oe.$body.attr("data-type")){var e=de("next"),t=de("prev");if(void 0!==e&&oe.$pa_next.attr({"data-title":e.title,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,href:e.url}),void 0!==t&&oe.$pa_prev.attr({"data-title":t.title,"data-catid":i.utility_controller.stringifyCatIds(t.catid),"data-id":t.id,href:t.url}),"project-thumbnails"==frontendPassedData.pa_type){if(void 0!==e){var n='<img src="'+e.thumb._512+'" alt="">';oe.$pa_next.html('<div class="pa-thumb-wrap" style="padding-bottom:'+100*e.thumbar+'%;">'+n+"</div>")}if(void 0!==t){var o='<img src="'+t.thumb._512+'" alt="">';oe.$pa_prev.html('<div class="pa-thumb-wrap" style="padding-bottom:'+100*t.thumbar+'%;">'+o+"</div>")}"same_category"==frontendPassedData.prevnext_navigate_through?le(ie.catid)>1&&(oe.$pa_next.removeClass("hide"),oe.$pa_prev.removeClass("hide")):(oe.$pa_next.removeClass("hide"),oe.$pa_prev.removeClass("hide"))}}}(),"project"==jQuery("body").attr("data-type")&&(jQuery("a.laynextproject").each(function(){var e=de("next");void 0!==e&&jQuery(this).attr({"data-type":"project",href:e.url,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,"data-title":e.title})}),jQuery("a.layprevproject").each(function(){var e=de("prev");void 0!==e&&jQuery(this).attr({"data-type":"project",href:e.url,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,"data-title":e.title})}))})},fe={initModule:function(){ye.$htmlbody=jQuery("html, body"),window.laytheme.on("newpageshown",pe)}},ye={$htmlbody:null},pe=function(){jQuery(".scrolltotop").on("click",function(e){e.preventDefault(),e.stopPropagation(),jQuery("html").hasClass("fp-enabled")?jQuery.fn.fullpage.moveTo(1,0):(ye.$htmlbody.animate({scrollTop:0},600,"easeOutQuint",function(){ye.$htmlbody.off("scroll wheel DOMMouseScroll mousewheel touchmove")}),ye.$htmlbody.on("scroll wheel DOMMouseScroll mousewheel touchmove",function(){ye.$htmlbody.stop()}))})},ge=n(3),me={initModule:function(){Qe()}},ve=0,we={$body:null,$nav:null,$st:null},_e=function(){ve=parseInt(frontendPassedData.maxwidth,10),we.$body=jQuery("body"),we.$nav=jQuery("nav.primary"),we.$nav2=jQuery("nav.second_menu"),we.$nav3=jQuery("nav.third_menu"),we.$nav4=jQuery("nav.fourth_menu"),we.$st=jQuery(".sitetitle"),be(),je()},be=function(){jQuery(window).on("window_width_changed",je)},je=function(){var e=we.$body.innerWidth(),t=frontendPassedData.nav_customizer_properties,n=parseFloat(frontendPassedData.frame_leftright),o=ve/100*n*2;if(e>ve&&i.Utility.isDesktopOrTabletSize){var a=(e-ve+o)/2;-1!=frontendPassedData.st_position.indexOf("left")?we.$st.css("left",a+"px"):-1!=frontendPassedData.st_position.indexOf("right")&&we.$st.css("right",a+"px"),-1!=t.nav_position.indexOf("left")?we.$nav.css("left",a+"px"):-1!=t.nav_position.indexOf("right")&&we.$nav.css("right",a+"px"),frontendPassedData.nav_amount>=2&&(-1!=t.nav_position_second_menu.indexOf("left")?we.$nav2.css("left",a+"px"):-1!=t.nav_position_second_menu.indexOf("right")&&we.$nav2.css("right",a+"px")),frontendPassedData.nav_amount>=3&&(-1!=t.nav_position_third_menu.indexOf("left")?we.$nav3.css("left",a+"px"):-1!=t.nav_position_third_menu.indexOf("right")&&we.$nav3.css("right",a+"px")),frontendPassedData.nav_amount>=4&&(-1!=t.nav_position_fourth_menu.indexOf("left")?we.$nav4.css("left",a+"px"):-1!=t.nav_position_fourth_menu.indexOf("right")&&we.$nav4.css("right",a+"px"))}else-1!=frontendPassedData.st_position.indexOf("left")?we.$st.css("left",""):-1!=frontendPassedData.st_position.indexOf("right")&&we.$st.css("right",""),-1!=t.nav_position.indexOf("left")?we.$nav.css("left",""):-1!=t.nav_position.indexOf("right")&&we.$nav.css("right",""),frontendPassedData.nav_amount>=2&&(-1!=t.nav_position_second_menu.indexOf("left")?we.$nav2.css("left",""):-1!=t.nav_position_second_menu.indexOf("right")&&we.$nav2.css("right","")),frontendPassedData.nav_amount>=3&&(-1!=t.nav_position_third_menu.indexOf("left")?we.$nav3.css("left",""):-1!=t.nav_position_third_menu.indexOf("right")&&we.$nav3.css("right","")),frontendPassedData.nav_amount>=4&&(-1!=t.nav_position_fourth_menu.indexOf("left")?we.$nav4.css("left",""):-1!=t.nav_position_fourth_menu.indexOf("right")&&we.$nav4.css("right",""))},Qe=function(){"on"==frontendPassedData.misc_options_max_width_apply_to_logo_and_nav&&0!=frontendPassedData.maxwidth&&_e()},Ce=Backbone.Radio.channel("events"),xe={initModule:function(){"style_desktop_menu"!=frontendPassedData.mobile_menu_style&&Ie()},hideMenu:function(){"style_desktop_menu"!=frontendPassedData.mobile_menu_style&&Me()},hideMobileMenu:function(){"style_desktop_menu"!=frontendPassedData.mobile_menu_style&&Oe()}},ke={wWidth:window.innerWidth,oldInnerWidth:window.innerWidth,isOpen:!1},Pe={$nav:null,$navul:null,$burger:null},De=function(){switch(Pe.$nav.addClass("active"),jQuery("body").addClass("mobile-menu-open"),ke.isOpen=!0,frontendPassedData.mobile_menu_style){case"style_1":var e=0;"1"!=frontendPassedData.mobile_hide_menubar&&(e=jQuery(".navbar")[0].getBoundingClientRect().bottom),jQuery("body").addClass("animate-mobile-menu"),Pe.$nav.on("transitionend",function(){jQuery("body").removeClass("animate-mobile-menu")}),Pe.$nav.css({transform:"translateY("+e+"px)","-webkit-transform":"translateY("+e+"px)",top:0});break;case"style_2":break;case"style_3":var t=0;"1"!=frontendPassedData.mobile_hide_menubar&&(t=jQuery(".navbar").height());var n=t;frontendPassedData.woocommerce_active&&jQuery(".woocommerce-store-notice").length>0&&jQuery(".woocommerce-store-notice").is(":visible")&&(n+=jQuery(".woocommerce-store-notice").outerHeight()),Pe.$nav.css({height:window.innerHeight-t+"px",top:n+"px"})}},ze=function(){if(Pe.$nav.hasClass("active"))Me();else{switch(frontendPassedData.mobile_burger_type){case"new":case"default":case"default_thin":"style_2"!=frontendPassedData.mobile_menu_style&&Pe.$burger.addClass("active")}De()}},Se=function(){if(!i.Utility.isDesktopOrTabletSize)switch(frontendPassedData.mobile_menu_style){case"style_1":var e=jQuery(".navbar").outerHeight(),t=window.innerHeight-e;Pe.$nav.css("max-height",t+"px");break;case"style_2":t=window.innerHeight;Pe.$nav.css("max-height",t+"px")}},$e=function(){i.Utility.isDesktopOrTabletSize&&Pe.$nav.css("max-height","")},Me=function(){ke.isOpen=!1,i.Utility.isPhoneSize?Oe():("style_2"!=frontendPassedData.mobile_menu_style&&Pe.$burger.removeClass("active"),jQuery("body").removeClass("mobile-menu-open"),Pe.$nav.removeClass("active").css({transform:"","-webkit-transform":""}))},Oe=function(){if(i.Utility.isPhoneSize)switch(ke.isOpen=!1,Pe.$nav.removeClass("active"),jQuery("body").removeClass("mobile-menu-open"),"style_2"!=frontendPassedData.mobile_menu_style&&Pe.$burger.removeClass("active"),frontendPassedData.mobile_menu_style){case"style_1":var e=Pe.$navul.outerHeight();e*=-1,e-=jQuery(".navbar").outerHeight(),jQuery("body").addClass("animate-mobile-menu"),Pe.$nav.on("transitionend",function(){jQuery("body").removeClass("animate-mobile-menu")}),Pe.$nav.css({transform:"translateY("+e+"px)","-webkit-transform":"translateY("+e+"px)"});break;case"style_2":break;case"style_3":Pe.$nav.css({height:""})}},Ie=function(){jQuery("nav.mobile-nav a").on("dragstart",function(e){e.preventDefault()}),Pe.$nav=jQuery("nav.mobile-nav"),Pe.$navul=Pe.$nav.find("ul"),Pe.$burger=jQuery(".burger-default, .burger-new"),function(){if(console.log("frontendPassedData.mobile_navbar_fixed",frontendPassedData.mobile_navbar_fixed),""!=frontendPassedData.mobile_navbar_fixed)switch(D=jQuery(".woocommerce-store-notice"),z=jQuery(".mobile-nav"),S=jQuery(".navbar"),frontendPassedData.mobile_menu_style){case"style_1":D.length>0&&z.length>0&&S.length>0&&Ce.on("scroll",function(){if(ke.isOpen){var e=S[0].getBoundingClientRect().bottom;z.css("transform","translateY("+e+"px)")}});break;case"style_2":break;case"style_3":D.length>0&&z.length>0&&Ce.on("scroll",function(){var e=D[0].getBoundingClientRect(),t=window.scrollY;t>=e.height&&(t=e.height),z.css("transform","translateY(-"+t+"px)")})}}(),jQuery(window).on("resize orientationchange",function(){ke.oldInnerWidth=ke.wWidth,ke.wWidth=window.innerWidth,i.Utility.isDesktopOrTabletSize?ke.oldInnerWidth<=i.Utility.breakpoint&&($e(),Pe.$nav.css({transform:"","-webkit-transform":""}),Pe.$nav.removeClass("active transition"),"style_2"!=frontendPassedData.mobile_menu_style&&Pe.$burger.removeClass("active"),jQuery("body").removeClass("mobile-menu-open")):(ke.oldInnerWidth>i.Utility.breakpoint&&(Pe.$nav.hasClass("active")||Me(),ge.default.showAll()),Se())}),function(){switch(frontendPassedData.mobile_burger_type){case"default":case"default_thin":jQuery(".burger-wrap-default").on("click",ze);break;case"new":jQuery(".burger-wrap-new").on("click",ze);break;case"custom":jQuery(".burger-custom-wrap-close").on("click",function(){Pe.$nav.hasClass("active")&&Me()}),jQuery(".burger-custom-wrap-open").on("click",function(){Pe.$nav.hasClass("active")||De()})}}(),Se(),WebFont.load({custom:{families:frontendPassedData.m_st_fontfamily},active:function(){Oe()}}),Oe(),setTimeout(function(){jQuery("body").addClass("mobile-menu-animation-possible")},0),jQuery(document).ready(function(){setTimeout(function(){window.laytheme.on("newpage",Oe)},100)}),window.laytheme.on("searchshown",Oe)},Le={maybeReload:function(e){return Te(e)}},Te=function(e){var t=e;if(null==t)return!1;var n=t.id,i=t.type,o=!1;switch(i){case"project":var a=frontendPassedData.footer_active_in_projects;if("all"==a)o=frontendPassedData.projectsFooterId;else if("individual"==a&&""!=frontendPassedData.individual_project_footers){var r=JSON.parse(frontendPassedData.individual_project_footers);_.isObject(r)&&void 0!==r[n]&&(o=r[n])}break;case"page":var s=frontendPassedData.footer_active_in_pages;if("all"==s)o=frontendPassedData.pagesFooterId;else if("individual"==s&&""!=frontendPassedData.individual_page_footers){r=JSON.parse(frontendPassedData.individual_page_footers);_.isObject(r)&&void 0!==r[n]&&(o=r[n])}break;case"category":var d=frontendPassedData.footer_active_in_categories;if("all"==d)o=frontendPassedData.categoriesFooterId;else if("individual"==d&&""!=frontendPassedData.individual_category_footers){r=JSON.parse(frontendPassedData.individual_category_footers);_.isObject(r)&&void 0!==r[n]&&(o=r[n])}}var l=frontendPassedData.shortcodes;if(jQuery.isArray(l)&&0!=o)for(var c=0;c<l.length;c++){var u=l[c];if("post"==u.info.type&&u.info.id==o)return console.log("return true 1"),!0}if("project"!=i&&"page"!=i||(i="post"),jQuery.isArray(l))for(c=0;c<l.length;c++)if(l[c].info.type==i&&l[c].info.id==n)return console.log("return true 2"),!0;return!1},Ae=function(){jQuery(".current-menu-parent").removeClass("current-menu-parent"),jQuery(".current-menu-item:not(.qtranxs-lang-menu-item)").removeClass("current-menu-item"),0!=(n=jQuery('nav a[data-id="'+window.history.state.id+'"][data-type="'+window.history.state.type+'"]')).length&&n.each(function(){jQuery(this.parentNode).addClass("current-menu-item"),jQuery(this.parentNode.parentNode).closest("li.menu-item").addClass("current-menu-parent")});var e=window.history.state.catid;Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n,i=e[t];0!=(n=jQuery('nav a[data-catid="'+i+'"][data-type="category"]')).length&&n.each(function(){jQuery(this.parentNode).addClass("current-menu-item"),jQuery(this.parentNode.parentNode).closest("li.menu-item").addClass("current-menu-parent")})}},Ne=0,He=0,Be=0,Ue=0,Re={$body:null},We=function(e){return null!=window.history.state&&(window.history.state.id==e.id&&window.history.state.type==e.type)},Ee=function(e){A(),He=Ne,Ne=window.scrollY,Ue=Be,Be=Ve;var t=Le.maybeReload(e);"on"==frontendPassedData.misc_options_disable_ajax&&(t=!0),t?window.location.reload(!1):(G.hideRegions(),console.log("handle state change"),console.log(e),jQuery("body").attr({"data-type":e.type,"data-id":e.id,"data-catid":i.utility_controller.stringifyCatIds(e.catid)}),Ae(),G.showLayout(),window.laytheme.trigger("newpage"))},Ye=function(e){window.laytheme.off("newpageshown",Fe),window.laytheme.on("newpageshown",Ge)},Ge=function(){-1!=window.location.href.indexOf("#")&&-1==window.location.href.indexOf("#category-")||setTimeout(function(){window.scrollTo(0,He),void 0!==jQuery.fn.fullpage&&"undefined"!=typeof magneticSlidesPassedData&&("horizontal"==magneticSlidesPassedData.ms_direction?jQuery.fn.fullpage.silentMoveTo(1,Ue):jQuery.fn.fullpage.silentMoveTo(Ue,0))},50),window.laytheme.off("newpageshown",Ye)},qe=function(){window.laytheme.off("newpageshown",Ge),window.laytheme.on("newpageshown",Fe)},Fe=function(){-1==window.location.href.indexOf("#")&&window.scrollTo(0,0),window.laytheme.off("newpageshown",qe)},Ve=0,Xe={initModule:function(){Re.$body=jQuery("body"),function(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.href,t={scrollpos:window.scrollY,fullscreenSliderPos:0,type:Re.$body.attr("data-type"),id:Re.$body.attr("data-id"),catid:i.utility_controller.parseCatIds(Re.$body.attr("data-catid"))};window.history.replaceState(t,jQuery("title").text(),e),Ae(),ne.maybeHideProjectArrowsOnInit(window.history.state)}(),jQuery(document).on("click",'a[data-type]:not([target="_blank"])',function(e){if(jQuery(this.parentNode).hasClass("laycart")&&1==frontendPassedData.sideCartPluginActive)return e.preventDefault(),e.stopPropagation(),void console.log("hey!");if(!frontendPassedData.is_customize){var t=jQuery(this),n=t.attr("href");if(n=i.utility_controller.filterURL(n),jQuery("body").attr("data-type")==jQuery(this).attr("data-type")&&jQuery("body").attr("data-id")==jQuery(this).attr("data-id"))e.preventDefault(),xe.hideMobileMenu();else if("custom"!=jQuery(this).attr("data-type")&&!e.metaKey&&!e.ctrlKey){e.preventDefault();var o=passedDataHistory.title,a=t.attr("data-title");void 0!==a&&""!=a&&(o=passedDataHistory.titleprefix+_.unescape(t.attr("data-title")));var r=i.utility_controller.parseCatIds(t.attr("data-catid"));Xe.pushState({type:t.attr("data-type"),id:t.attr("data-id"),catid:r},o,n)}}}),window.addEventListener("popstate",function(e){if(window.location.href.indexOf("#"),null===e.state&&-1!=window.location.href.indexOf("#")){var t={scrollpos:window.scrollY,type:Re.$body.attr("data-type"),id:Re.$body.attr("data-id"),catid:i.utility_controller.parseCatIds(Re.$body.attr("data-catid"))},n=window.location.href;window.history.replaceState(t,jQuery("title").text(),n)}else window.laytheme.trigger("popstate"),e.state.type==jQuery("body").attr("data-type")&&e.state.id==jQuery("body").attr("data-id")||(Ye(e.state),Ee(e.state))}),setTimeout(function(){"undefined"!=typeof magneticSlidesPassedData&&("horizontal"==magneticSlidesPassedData.ms_direction?jQuery(window).on("fpAfterSlideLoad",function(e,t){Ve=t.slideIndex}):jQuery(window).on("fpAfterLoad",function(e,t){Ve=t.index}))},0)},getState:function(){return window.history.state},pushState:function(e,t,n){We(e)||(qe(),window.history.pushState(e,t,n),document.title=t,b.a.triggerPushState(),Ee(e))}},Je={initModule:function(){i.Utility.isTouchDevice&&Ke()}},Ke=function(){if("mo_on_tap"==frontendPassedData.fi_mo_touchdevice_behaviour){jQuery(document).on("click","a.thumb[data-type]",function(e){e.stopPropagation(),e.preventDefault()});var e,t=!1;jQuery(document).on("touchstart","a.thumb[data-type]",function(n){clearTimeout(e),jQuery(this).hasClass("hover")||(t=!0,e=setTimeout(function(){t=!1},100),n.stopPropagation(),n.preventDefault(),jQuery("a.thumb").removeClass("hover"),jQuery(this).addClass("hover"))}),jQuery(document).on("tap","a.thumb[data-type]",function(e){e.stopPropagation(),e.preventDefault(),0==t&&jQuery(this).hasClass("hover")&&Ze(jQuery(this))})}},Ze=function(e){if(frontendPassedData.is_customize)return!1;var t=e.attr("href");if(t=i.utility_controller.filterURL(t),jQuery("body").attr("data-type")==jQuery(this).attr("data-type")&&jQuery("body").attr("data-id")==jQuery(this).attr("data-id"))event.preventDefault(),xe.hideMobileMenu();else if("custom"!=jQuery(this).attr("data-type")&&!event.metaKey&&!event.ctrlKey){event.preventDefault();var n=passedDataHistory.title;void 0!==e.attr("data-title")&&(n=passedDataHistory.titleprefix+_.unescape(e.attr("data-title")));var o=i.utility_controller.parseCatIds(e.attr("data-catid"));Xe.pushState({type:e.attr("data-type"),id:e.attr("data-id"),catid:o},n,t)}},et={polyfill_flexbox:function(){tt()},initModule:function(){nt(),it()}},tt=function(){Modernizr.flexbox||(jQuery(".col.align-middle").each(function(){var e=!1,t=jQuery(this);if(i.Utility.isPhoneSize?(t.css("margin-top","0"),jQuery(t[0].parentNode.parentNode).hasClass("_100vh")&&1==jQuery(t[0].parentNode).find(".col").length&&(e=!0)):e=!0,e){var n=(jQuery(this.parentNode).height()-t.height())/2;t.css("margin-top",n+"px")}}),jQuery(".col.align-bottom").each(function(){var e=!1,t=jQuery(this);if(i.Utility.isPhoneSize?(t.css("margin-top","0"),jQuery(t[0].parentNode.parentNode).hasClass("_100vh")&&1==jQuery(t[0].parentNode).find(".col").length&&(e=!0)):jQuery(t[0].parentNode.parentNode).hasClass("_100vh")&&(e=!0),e){var n=jQuery(this.parentNode).height()-t.height();t.css("margin-top",n+"px")}}))},nt=function(){it(),window.laytheme.on("newpageshown",function(){tt()})},it=function(){jQuery(window).on("resize",function(){tt()}),jQuery(window).on("orientationchange",function(){setTimeout(function(){tt()},400)})},ot=Marionette.View.extend({tagName:"div",template:_.template('<div class="mediawrap <%= getSizingClassName() %> <%= getFollowMovementClassName() %>">\n            <%= getMedia() %>\n        </div>'),events:{click:"onHideClick"},onHideClick:function(){st.hide()},onRender:function(){setTimeout(function(){st.setReferences(),st.prepareBoundary()},0)},onAttach:function(){st.initHideAfter()},onResize:function(){var e=window.innerWidth/window.innerHeight>this.model.get("width")/this.model.get("height")?"w100":"h100";this.$el.find(".mediawrap").removeClass("w100 h100").addClass(e)},templateContext:function(){return{getFollowMovementClassName:function(){return 1==frontendPassedData.intro_movement?"followmovement":""},getMedia:function(){switch(this.type){case"video":return'<video class="media loaded" data-ar="'+this.getAr()+'" playsinline muted autoplay loop src="'+this.url+'"></video>';case"image":return'<img class="lazyload js-intro-image media" data-ar="'+this.getAr()+'" sizes="'+this.getSizes()+'" data-srcset="'+this.getSrcset()+'" src="" alt="">'}},getSizes:function(){var e=1.15*this.width*window.innerHeight/this.height/window.innerWidth;return(e=Math.round(100*Math.max(e,1.15)))+"vw"},getSizingClassName:function(){return window.innerWidth/window.innerHeight>this.width/this.height?"w100":"h100"},getSrcset:function(){var e=[];for(var t in i.Utility.imageSizes){var n=this.sizes["_"+i.Utility.imageSizes[t]];n=n+" "+i.Utility.imageSizes[t]+"w",e.push(n)}return e.join(", ")},getAr:function(){return this.width/this.height},getText:function(){return this.text}}}}),at=Marionette.View.extend({className:"intro",template:_.template('\n        <div class="intro-media-region"></div>\n        <div class="intro-svg-wrap"><%= getSVGOverlay() %></div>\n        <div class="intro_text '+frontendPassedData.intro_text_textformat+'"><%= getText() %></div>\n    '),regions:{mediaRegion:".intro-media-region"},templateContext:function(){return{getSVGOverlay:function(){if(1==frontendPassedData.intro_use_svg_overlay)return'<img class="intro-svg-overlay" src="'+frontendPassedData.intro_svg_url+'" alt="">'},getText:function(){if(1==frontendPassedData.intro_use_text_overlay)return frontendPassedData.intro_text}}}}),rt={init:function(e){yt(e)},hide:function(){kt()},destroy:function(){Ct()},unbind:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){unbind()}),initHideAfter:function(){mt()},getBoundaries:function(){return{boundaryX:lt.boundaryX,boundaryY:lt.boundaryY}},setReferences:function(){pt()},prepareBoundary:function(){wt()},cancelLoading:function(){ht()}},st=rt,dt=null,lt={boundaryX:0,boundaryY:0,intro:null},ct=115;window.laytheme.on("customizer_showintro",function(){Ct(),yt()}),window.laytheme.on("customizer_hideintro",function(){kt(),jQuery("body").removeClass("intro-loading")});var ut,ht=function(){jQuery("body").removeClass("intro-loading")},ft=function(){var e=null;e="landscape"===i.Utility.orientation?new Backbone.Model(frontendPassedData.intro_landscape):new Backbone.Model(frontendPassedData.intro_portrait),M=new ot({model:e});var t=new at;(new(Marionette.Application.extend({region:"#intro-region",onStart:function(){this.showView(t),t.showChildView("mediaRegion",M),jQuery("body").removeClass("intro-loading")}}))).start()},yt=function(){if(jQuery("#intro-region").removeClass("hide"),jQuery("body").removeClass("intro-loading"),frontendPassedData.is_frontpage&&frontendPassedData.intro_active){if("landscape"===i.Utility.orientation){if(jQuery.isEmptyObject(frontendPassedData.intro_landscape))return void Ct()}else if(jQuery.isEmptyObject(frontendPassedData.intro_portrait))return void Ct();O=jQuery("body"),dt=new Particle(0,0),ft(),window.laytheme.on("orientationchanged",ft),setTimeout(function(){1==frontendPassedData.intro_movement&&(_t(),Qt())},0),jQuery(window).on("resize",xt),jQuery(document).on("scroll",gt)}},pt=function(){$=jQuery(".intro .mediawrap"),lt.intro=frontendPassedData.intro_landscape,"portrait"===i.Utility.orientation&&(lt.intro=frontendPassedData.intro_portrait)},gt=function e(){window.scrollY>10&&(kt(),jQuery(document).off("scroll",e))},mt=function(){var e=parseInt(frontendPassedData.intro_hide_after,10);if(0!=e)switch(M.model.get("type")){case"video":jQuery(".intro video").on("playing",function(){setTimeout(function(){kt()},e)});break;case"image":jQuery(document).on("lazyloaded",function(t){-1!=t.target.className.indexOf("js-intro-image")&&setTimeout(function(){kt()},e)})}},vt=function(e,t,n,i,o){return i+(o-i)*((Math.min(n,Math.max(t,e))-t)/(n-t))},wt=function(){var e=jQuery(".intro .mediawrap").height(),t=0,n=0;$.hasClass("h100")?t=(n=e*ct/100)*lt.intro.width/lt.intro.height:n=(t=O.innerWidth()*ct/100)*lt.intro.height/lt.intro.width,lt.boundaryX=(t-O.innerWidth())/2,lt.boundaryY=(n-e)/2,lt.boundaryX-=2,lt.boundaryY-=2},_t=function(){wt(),i.Utility.isTouchDevice?window.addEventListener("deviceorientation",jt):jQuery(window).on("mousemove",bt)},bt=function(e){var t=vt(e.clientX,0,O.innerWidth(),1,-1),n=vt(e.clientY,0,window.innerHeight,1,-1);dt.updateDestination(t,n)},jt=function(e){var t=e.gamma,n=e.beta;90==window.orientation?(t=vt(e.beta,-45,45,1,-1),n=vt(-e.gamma,-20,70,1,-1)):-90==window.orientation?(t=vt(-e.beta,-45,45,1,-1),n=vt(e.gamma,-20,70,1,-1)):180==window.orientation?(t=vt(-e.gamma,-45,45,1,-1),n=vt(-e.beta,-20,70,1,-1)):(t=vt(e.gamma,-45,45,1,-1),n=vt(e.beta,-20,70,1,-1)),dt.updateDestination(t,n)},Qt=function e(){dt.update(),$.css({transform:"translate3d("+dt.x+"px, "+dt.y+"px, 0)","-webkit-transform":"translate3d("+dt.x+"px, "+dt.y+"px, 0)"}),I=requestAnimationFrame(e)},Ct=function(){jQuery("#intro-region").html("").addClass("hide"),window.laytheme.off("orientationchanged",ft),cancelAnimationFrame(I),window.removeEventListener("deviceorientation",jt),jQuery(window).off("mousemove",bt),jQuery(window).off("resize",xt),clearTimeout(ut)},xt=function(){M.triggerMethod("resize"),wt()},kt=function(e){ut=setTimeout(function(){jQuery(".intro").on("transitionend",function(){Ct()}),jQuery(".intro").addClass("animatehide"),"function"==typeof e&&e()},0)};!function(){function e(e,t){this.x=e,this.y=t,this.virtualX=e,this.virtualY=t,this.destX=e,this.destY=t,this.xvelocity=0,this.yvelocity=0}e.prototype.update=function(){var e=rt.getBoundaries();this.xvelocity=this.destX-this.virtualX,this.yvelocity=this.destY-this.virtualY,Math.abs(this.xvelocity)>.002&&(this.xvelocity*=.03),Math.abs(this.yvelocity)>.002&&(this.yvelocity*=.03),this.virtualX+=this.xvelocity,this.virtualY+=this.yvelocity,this.x=Math.min(1,Math.max(-1,this.virtualX))*e.boundaryX,this.y=Math.min(1,Math.max(-1,this.virtualY))*e.boundaryY},e.prototype.updateDestination=function(e,t){this.destX=e,this.destY=t},window.Particle=e}();var Pt,Dt,zt,St,$t,Mt,Ot,It,Lt=Marionette.View.extend({className:function(){return"search-view "+this.getOption("hasNoResultsClass")},hasNoResultsClass:"search-has-no-results",hasResultsClass:"search-has-or-had-results",template:_.template('\n        <div class="search-header">\n            <div class="close-search close-search-desktop">\n                <svg height="25" width="25">\n                    <line x1="0" y1="0" x2="25" y2="25" stroke-width="2"></line>\n                    <line x1="25" y1="0" x2="0" y2="25" stroke-width="2"></line>\n                </svg>\n            </div>\n            <div class="close-search close-search-phone">\n                <svg height="15" width="15">\n                    <line x1="0" y1="0" x2="15" y2="15" stroke-width="2"></line>\n                    <line x1="15" y1="0" x2="0" y2="15" stroke-width="2"></line>\n                </svg>\n            </div>\n            <div class="search-inputs">\n                <svg class="search-icon" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"\n                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-447 336 72 72"\n                    style="enable-background:new -447 336 72 72;" xml:space="preserve">\n                    <g transform="translate(0,-952.36218)">\n                    <path d="M-418,1288.4c-16,0-29,13-29,29s13,29,29,29c6.9,0,13.3-2.4,18.2-6.5l19.6,19.6c1.2,1.2,3.1,1.2,4.2,0c1.2-1.2,1.2-3,0-4.2\n                        l-19.6-19.6c4.1-5,6.5-11.4,6.5-18.3C-389,1301.4-402,1288.4-418,1288.4L-418,1288.4z M-418,1294.4c12.7,0,23,10.3,23,23\n                        c0,12.7-10.3,23-23,23s-23-10.3-23-23C-441,1304.6-430.7,1294.4-418,1294.4z"/>\n                    </g>\n                </svg>\n                <input id="search-query" type="search" class="search-query" placeholder="Search" autocomplete="off" spellcheck="false">\n                <div id="search-autosuggest-list"></div>\n            </div>\n        </div>\n        <div id="search-results-region"></div>\n    '),regions:{results:"#search-results-region",search_autosuggest_list:"#search-autosuggest-list"},events:{"input #search-query":"onInput","focus #search-query":"onFocus","blur #search-query":"onBlur","click .close-search":"onHide"},val:"",onAddClassForHasResults:function(){this.$el.removeClass(this.hasNoResultsClass),this.$el.addClass(this.hasResultsClass)},onAddClassForNoResults:function(){this.$el.addClass(this.hasNoResultsClass),this.$el.removeClass(this.hasResultsClass)},onFocus:function(){this.$el.find("#search-autosuggest-list").show(),this.$el.addClass("hide-search-icon"),this.$el.find("#search-query").removeAttr("placeholder")},onBlur:function(){var e=this;setTimeout(function(){e.$el.find("#search-autosuggest-list").hide(),""==e.val&&e.$el.removeClass("hide-search-icon"),e.$el.find("#search-query").attr("placeholder","Search")},100)},onInput:function(){this.val=this.$el.find("#search-query").val(),Gt.search()},onShow:function(){this.$el.addClass("show"),i.utility_controller.fixBody(),jQuery("#search-query").focus()},onHide:function(){this.$el.addClass("hide").removeClass("show"),i.utility_controller.unfixBody(),this.$el.find("#search-query").val(""),this.val="",this.triggerMethod("blur"),Gt.search(),this.triggerMethod("add:class:for:no:results")},onRender:function(){var e=this;window.laytheme.on("content_fadeout_transition_ended",function(){e.triggerMethod("hide")})}}),Tt=Marionette.View.extend({className:"suggest-item",template:_.template('\n        <span class="suggest"><span class="suggest-prefix"><%= suggestPrefix() %></span><span class="suggest-suffix"><%= suggestSuffix() %></span></span>\n    '),events:{click:"clickSuggestItem"},clickSuggestItem:function(e){e.preventDefault(),e.stopPropagation(),Gt.clickSuggestItem(this.$el)},templateContext:function(){return{suggestSuffix:function(){var e=this.suggest,t=this.query;return i.utility_controller.stringStartsWith(e,t)?e.slice(t.length):e},query:jQuery("#search-query").val(),suggestPrefix:function(){var e=this.suggest,t=this.query;return i.utility_controller.stringStartsWith(e,t)?this.query:""}}}}),At=Marionette.CollectionView.extend({className:"suggest-collection",childView:Tt,id:"suggest-results"}),Nt=jQuery.Deferred(),Ht=!1,Bt={shouldSort:!0,includeScore:!1,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title"]},Ut=function(){"resolved"==Nt.state()?Rt():jQuery.when(Nt).then(function(){Rt()})},Rt=_.debounce(function(){var e=jQuery("#search-query").val();if(zt=e.toLowerCase(),0==e.length)return jQuery("#search-autosuggest-list").html(""),void jQuery("#search-results-region").html("");(Dt=Pt.search(e)).length>0&&St.triggerMethod("add:class:for:has:results");var t=Yt(Dt),n={action:"get_search_result",found_posts:t=JSON.stringify(t)};jQuery.ajax({url:frontendPassedData.ajax_url,data:n,type:"post",success:function(e){jQuery("#search-results-region").html(e),setTimeout(function(){window.laytheme.trigger("searchresultshown")},0)},error:function(e){console.log("search error"),console.log(e)}}),Wt()},200),Wt=function(){var e=[],t=!0,n=!1,i=void 0;try{for(var o,a=Dt[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){if((u=o.value).title.toLowerCase().startsWith(zt)&&-1==e.indexOf(u.title)&&e.push(u.title),e.length>10)break}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}if(0!=e.length&&zt==e[0].toLowerCase()&&e.splice(0,1),0==e.length){var r=!0,s=!1,d=void 0;try{for(var l,c=Dt[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u;if(-1!==(u=l.value).title.toLowerCase().indexOf(zt)&&-1==e.indexOf(u.title)&&e.push(u.title),e.length>10)break}}catch(e){s=!0,d=e}finally{try{r||null==c.return||c.return()}finally{if(s)throw d}}}if(0!=e.length&&zt==e[0].toLowerCase()&&e.splice(0,1),0!=Dt.length){var h=new At({collection:new Backbone.Collection(e.slice(0,10).map(function(e){return{suggest:e}}))});St.getRegion("search_autosuggest_list").show(h)}else St.getRegion("search_autosuggest_list").empty()},Et=function(){jQuery('[href="#search"]').on("click",function(e){Ht||jQuery.ajax({url:frontendPassedData.wpapiroot+"laytheme/search/",success:function(e){Pt=new Fuse(e,Bt),Ht=!0,Nt.resolve()}}),e.preventDefault(),e.stopPropagation(),St.triggerMethod("show"),window.laytheme.trigger("searchshown")})},Yt=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].postid;t.push(i)}return t},Gt={initModule:function(){Et(),St=new Lt,(new(Marionette.Application.extend({region:"#search-region",onStart:function(){this.showView(St)}}))).start(),jQuery(document).keyup(function(e){27==e.which&&St.triggerMethod("hide")})},search:function(){Ut()},clickSuggestItem:function(e){!function(e){var t=e.find(".suggest").text();jQuery("#search-query").val(t),St.getRegion("search_autosuggest_list").empty(),St.triggerMethod("input")}(e)}},qt=Backbone.Radio.channel("events"),Ft=!1,Vt=[],Xt=[],Jt=function(){Mt=Ot.find("video.autoplay[playsinline][muted]"),Ft&&($t=It.find("video.autoplay[playsinline][muted]")),Kt(),qt.off("scroll",Zt),qt.on("scroll",Zt)},Kt=function(){Vt=[],Xt=[];for(var e=0;e<Mt.length;e++)Vt[e]={playing:!1,playPromise:null};if(Ft)for(e=0;e<$t.length;e++)Xt[e]={playing:!1,playPromise:null}};window.laytheme.on("content_ready",function(e){switch(e){case"desktop":Ot=jQuery("#grid"),It=jQuery(".cover-region-desktop");break;case"phone":Ot=jQuery("#custom-phone-grid"),It=jQuery(".cover-region-phone"),0==Ot.length&&(Ot=jQuery("#grid"),It=jQuery(".cover-region-desktop"))}Ft=It.length>0,Jt(),Zt()});var Zt=_.throttle(function(){Mt.each(function(e){var t=this.getBoundingClientRect();t.top-200<=window.innerHeight&&t.bottom>=0?0!=Vt[e].playing||this.ended||jQuery(this).hasClass("userinteractedwith-paused")||(Vt[e].playPromise=this.play(),Vt[e].playPromise.then(function(){Vt[e].playing=!0})):1==Vt[e].playing&&(this.pause(),Vt[e].playing=!1)}),Ft&&$t.each(function(e){window.scrollY>window.innerHeight?1==Vt[e].playing&&(this.pause(),Xt[e].playing=!1):0!=Xt[e].playing||this.ended||jQuery(this).hasClass("userinteractedwith-paused")||(Xt[e].playPromise=this.play(),Xt[e].playPromise.then(function(){Xt[e].playing=!0}))})},60),en=Backbone.Radio.channel("events");window.laytheme.on("pushstate",function(){sn()}),window.laytheme.on("popstate",function(){sn()}),window.laytheme.on("newpageshown",function(){setTimeout(function(){rn()},50)});var tn,nn,on,an=!0,rn=function(){an=!0},sn=function(){an=!1},dn=function(){if(an)for(var e=document.querySelectorAll(".col.no-parallax.no-offset, .col.no-parallax.no-offset.type-thumbnailgrid .thumbnail-wrap, .col.no-parallax.no-offset.type-elementgrid .element-wrap, .col.no-parallax.no-offset.type-productsgrid li"),t=document.querySelectorAll(".below"),n=[].slice.call(t),i=0;i<e.length;i++){var o=e[i];if(!o.classList.contains("no-animation"))if(window.innerHeight+window.scrollY>=document.body.scrollHeight-90){if(o.classList.contains("below")){var a=n.indexOf(o);o.style.transitionDelay=100*a+"ms",o.classList.remove("below"),o.classList.add("in-view")}}else if(o.getBoundingClientRect().top<window.innerHeight-30){if(o.classList.contains("below")){var r=n.indexOf(o);o.style.transitionDelay=100*r+"ms",o.classList.remove("below"),o.classList.add("in-view")}}else o.classList.contains("below")||(o.classList.add("below"),o.classList.remove("in-view"))}},ln={initModule:function(){"on"==window.frontendPassedData.element_transition_on_scroll&&(en.on("scroll",dn),window.laytheme.on("magnetic_slides_afterSlideLoads",dn),window.laytheme.on("magnetic_slides_afterLoad",dn))}},cn=void 0,un=function(){return jQuery(".vertical-fullpage").length>0?"vertical":jQuery(".horizontal-fullpage").length>0?"horizontal":"none"},hn=function(e){if(void 0!==cn){var t=cn.find(e).closest(".row");return 0==t.length?(console.error("no row found"),0):cn.find(".row").index(t)}return 0},fn=function(){jQuery(document).on("click",'.lay-content a[href*="#"]:not([href="#search"]):not([href="#laynextproject"]):not([href="#layprevproject"]):not(.scrolltotop), .laynav a[href*="#"]:not([href="#search"]):not([href="#laynextproject"]):not([href="#layprevproject"]):not(.scrolltotop)',function(e){if(jQuery(this).closest("#fp-nav").length>0||jQuery(this).closest(".fp-slidesNav").length>0)e.preventDefault();else if(function(e){var t=window.location.href,n=t.indexOf("#");if(-1!==n&&(t=t.substr(0,n)),"#"==e.attr("href").substr(0,1))return!0;if(e[0].hasAttribute("data-id")&&e[0].hasAttribute("data-type")&&e.attr("data-id")==jQuery("body").attr("data-id")&&e.attr("data-type")==jQuery("body").attr("data-type"))return!0;var i=e.attr("href"),o=i.indexOf("#"),a=i.substr(0,o);return a==t||a.substr(0,a.length-1)==t||a==t.substr(0,t.length-1)||a.substr(0,a.length-1)==t.substr(0,t.length-1)}(jQuery(this))){e.preventDefault(),xe.hideMobileMenu();var t=jQuery(this).attr("href"),n=t.indexOf("#"),i=t.substr(n);switch(un()){case"none":var o=cn.find(i).offset().top;o=yn(o),jQuery("html, body").animate({scrollTop:o},300,"easeInOutQuad",function(){window.location.hash=i,window.scroll(0,o)});break;case"vertical":var a=hn(i)+1;jQuery(window).one("fpAfterLoad",function(){window.location.hash=i}),jQuery.fn.fullpage.moveTo(a,0);break;case"horizontal":var r=hn(i);jQuery(window).one("fpAfterSlideLoad",function(){window.location.hash=i}),jQuery.fn.fullpage.moveTo(1,r)}}})},yn=function(e){switch(i.Utility.screenSize){case"desktop":case"tablet":jQuery(".navbar").is(":visible")&&(e-=parseInt(jQuery(".navbar").height(),10)),""!=frontendPassedData.anchorscroll_offset_desktop&&jQuery.isNumeric(parseInt(frontendPassedData.anchorscroll_offset_desktop,10))&&(e-=parseInt(frontendPassedData.anchorscroll_offset_desktop,10));break;case"phone":jQuery(".navbar").is(":visible")&&"1"==frontendPassedData.mobile_navbar_fixed&&(e-=parseInt(jQuery(".navbar").height(),10)),""!=frontendPassedData.anchorscroll_offset_phone&&jQuery.isNumeric(parseInt(frontendPassedData.anchorscroll_offset_phone,10))&&(e-=parseInt(frontendPassedData.anchorscroll_offset_phone,10))}return e},pn=function(){var e=window.location.hash,t=cn.find(e);if(t.length>0)switch(un()){case"none":var n=t.offset().top;n=yn(n),window.scroll(0,n);break;case"vertical":var i=hn(e)+1;jQuery.fn.fullpage.silentMoveTo(i,0);break;case"horizontal":var o=hn(e);jQuery.fn.fullpage.silentMoveTo(1,o)}},gn={initModule:function(){fn(),jQuery(window).on("hashchange",function(){window.location.hash,void 0!=cn&&pn()}),window.laytheme.on("content_ready",function(e){switch(cn=void 0,e){case"desktop":cn=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var t=0!=jQuery("#footer-custom-phone-grid").length,n=0!=jQuery("#custom-phone-grid").length;t&&n?cn=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!t&&n?cn=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):t&&!n?cn=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):t||n||(cn=jQuery("#grid, .cover-region-desktop, #footer"))}setTimeout(function(){pn()},50)})}},mn=(n(11),n(1)),vn=function(){void 0!==tn&&tn.each(function(){var e=jQuery(this),t=e.data("config");wn(e,t)})},wn=function(e,t){var n=i.Utility.screenSize,o=(100+t[n].colGutter)/t[n].colCount;switch(o-=t[n].colGutter,e.find(".thumbnail-wrap").css({width:o+"%","margin-bottom":t[n].rowGutter+"%"}),t.layoutType){case"masonry":e.find(".lay-thumbnailgrid-gutter-sizer").css("width",t[n].colGutter+"%"),e.find(".lay-thumbnailgrid-col-sizer").css("width",o+"%");var a=e.data("masonry");void 0!==a&&a.layout();break;default:e.find(".thumbnail-wrap").css("margin-right",t[n].colGutter+"%"),e.find(".thumbnail-wrap:nth-child("+t[n].colCount+"n)").css("margin-right",0)}},_n=function(e,t){switch(t.layoutType){case"masonry":e.find(".thumb-collection").append('<div class="lay-thumbnailgrid-gutter-sizer"></div><div class="lay-thumbnailgrid-col-sizer"></div>');var n=e.find(".thumb-collection")[0],o=new Masonry(n,{itemSelector:".thumbnail-wrap",columnWidth:".lay-thumbnailgrid-col-sizer",gutter:".lay-thumbnailgrid-gutter-sizer",percentPosition:!0,transitionDuration:0});e.data("masonry",o);break;default:var a=e.find(".thumbnail-wrap:visible"),r=e.find(".thumbnailgrid-row .thumbnail-wrap");r.length>0&&r.unwrap();for(var s=t[i.Utility.screenSize].colCount,d=0;d<a.length;d+=s)a.slice(d,d+s).wrapAll('<div class="thumbnailgrid-row '+t.layoutType+'"></div>')}},bn=function(){jQuery(window).on("hashchange",function(){var e=window.location.hash;if(void 0!=jn){var t=jn.find(".thumbs-collection-region");t.length>0&&t.each(function(){if(e.startsWith("#category-")){var t=e.substr(10);if((o=jQuery('[data-slug="'+t+'"]')).length>0){var n=jQuery(this),i=o.attr("data-id");xn(n,i,!0)}}else if(""==e){var o;if((o=jQuery(".lay-filter-default")).length>0){n=jQuery(this),i=o.attr("data-id");xn(n,i,!0)}}})}})},jn=void 0,Qn=function(){window.laytheme.on("content_ready",function(e){switch(e){case"desktop":jn=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var t=0!=jQuery("#footer-custom-phone-grid").length,n=0!=jQuery("#custom-phone-grid").length;t&&n?jn=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!t&&n?jn=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):t&&!n?jn=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):t||n||(jn=jQuery("#grid, .cover-region-desktop, #footer"))}var o=jn.find(".thumbs-collection-region");o.length>0&&o.each(function(){var e=jQuery(this),t=e.data("config");_n(e,t),wn(e,t);var n=window.location.hash;if(n.startsWith("#category-")){var i=n.substr(10),o=jQuery('[data-slug="'+i+'"]');if(o.length>0){var a=o.attr("data-id");xn(e,a,!1)}}Cn(e),e.addClass("initialized")}),o.each(function(){var e=jQuery(this),t=e.data("config");_n(e,t),wn(e,t),jQuery(this).addClass("sized")}),lazySizes.autoSizer.checkElems(),i.utility_controller.setImageSizesAttribute(o)})},Cn=function(e){e.on("click",".lay-thumbnailgrid-filter-anchor",function(e){if(!jQuery(this).hasClass("lay-filter-active")){var t=jQuery(this).attr("data-slug");window.location.hash="category-"+t}})},xn=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.find(".lay-filter-active").removeClass("lay-filter-active"),jQuery('.lay-thumbnailgrid-filter-anchor[data-id="'+t+'"]').addClass("lay-filter-active");var o=e.find(".thumbnail-wrap"),a=e.data("config");if("fade_out_fade_in"==frontendPassedData.tgf_transition&&n)e.addClass("lay-disable-click lay-transition"),e.find(".thumb-collection").css("opacity",0),setTimeout(function(){switch(o.each(function(){var e=jQuery(this);parseInt(e.attr("data-filterid"),10)==t?e.css("display","block"):e.css("display","none")}),a.layoutType){case"masonry":wn(e,a);break;default:_n(e,a),wn(e,a)}i.utility_controller.setImageSizesAttribute(e),Pn(o,function(){e.find(".thumb-collection").css("opacity",1),setTimeout(function(){e.removeClass("lay-disable-click lay-transition")},500)})},500);else if("fade_out_fade_in_2"==frontendPassedData.tgf_transition&&n)e.addClass("lay-disable-click"),o.css("transitionDelay","0ms"),o.removeClass("in-view").addClass("below"),setTimeout(function(){switch(o.each(function(){var e=jQuery(this);parseInt(e.attr("data-filterid"),10)==t?e.css("display","block"):e.css("display","none")}),a.layoutType){case"masonry":wn(e,a);break;default:_n(e,a),wn(e,a)}i.utility_controller.setImageSizesAttribute(e),Pn(o,function(){var n=0;o.each(function(){var e=jQuery(this);parseInt(e.attr("data-filterid"),10)==t?(e[0].style.transitionDelay=100*n+"ms",n++,e.removeClass("below").addClass("in-view")):e.removeClass("below in-view")}),e.removeClass("lay-disable-click")})},550);else{switch(o.each(function(){var e=jQuery(this);parseInt(e.attr("data-filterid"),10)==t?e.css("display","block"):e.css("display","none")}),a.layoutType){case"masonry":wn(e,a);break;default:_n(e,a),wn(e,a)}i.utility_controller.setImageSizesAttribute(e)}},kn=function(e,t,n){return 1==e},Pn=function(e,t){var n=[],i=[];e.find("img").each(function(){mn.load_visible_images_then_rest_controller.isInsideViewportHeight(this,90)&&(n.push(this),i.push(!1))});for(var o=0;o<n.length;o++)!function(e){var t=jQuery(n[e]);t.hasClass("loaded")||t.hasClass("lazyloaded")?i[e]=!0:new MutationObserver(function(){(t.hasClass("loaded")||t.hasClass("lazyloaded"))&&(i[e]=!0)}).observe(t[0],{attributes:!0,attributeFilter:["class"]})}(o);if(n.length>0)var a=setInterval(function(){i.every(kn)&&(t(),clearInterval(a))},30);else t()},Dn=function(){window.laytheme.on("searchresultshown",function(){(tn=jQuery(".thumbs-collection-region")).each(function(){if(!jQuery(this).hasClass("initialized")){var e=jQuery(this),t=e.data("config");_n(e,t),wn(e,t),jQuery(this).addClass("initialized sized")}})})},zn={initModule:function(){Dn(),jQuery(window).on("window_width_changed",vn),Qn(),bn()}},Sn=function(){void 0!==nn&&nn.each(function(){var e=jQuery(this),t=e.data("config");$n(e,t)})},$n=function(e,t){var n=i.Utility.screenSize,o=(100+t[n].colGutter)/t[n].colCount;switch(o-=t[n].colGutter,e.find(".element-wrap").css({width:o+"%","margin-bottom":t[n].rowGutter+"%"}),t.layoutType){case"masonry":e.find(".lay-elementgrid-gutter-sizer").css("width",t[n].colGutter+"%"),e.find(".lay-elementgrid-col-sizer").css("width",o+"%");var a=e.data("masonry");void 0!==a&&a.layout();break;default:e.find(".element-wrap").css("margin-right",t[n].colGutter+"%"),e.find(".element-wrap:nth-child("+t[n].colCount+"n)").css("margin-right",0)}},Mn=function(){window.laytheme.on("content_ready",function(e){var t;switch(nn=void 0,e){case"desktop":t=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var n=0!=jQuery("#footer-custom-phone-grid").length,o=0!=jQuery("#custom-phone-grid").length;n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):n&&!o?t=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):n||o||(t=jQuery("#grid, .cover-region-desktop, #footer"))}(nn=t.find(".elements-collection-region")).each(function(){var e=jQuery(this),t=e.data("config");!function(e,t){switch(t.layoutType){case"masonry":e.find(".element-collection").append('<div class="lay-elementgrid-gutter-sizer"></div><div class="lay-elementgrid-col-sizer"></div>');var n=e.find(".element-collection")[0],o=new Masonry(n,{itemSelector:".element-wrap",columnWidth:".lay-elementgrid-col-sizer",gutter:".lay-elementgrid-gutter-sizer",percentPosition:!0,transitionDuration:0});e.data("masonry",o);break;default:var a=e.find(".element-wrap"),r=e.find(".elementgrid-row .element-wrap");r.length>0&&r.unwrap();for(var s=t[i.Utility.screenSize].colCount,d=0;d<a.length;d+=s)a.slice(d,d+s).wrapAll('<div class="elementgrid-row '+t.layoutType+'"></div>')}}(e,t),$n(e,t),jQuery(this).addClass("initialized")}),lazySizes.autoSizer.checkElems(),i.utility_controller.setImageSizesAttribute(nn)})},On={initModule:function(){jQuery(window).on("window_width_changed",Sn),Mn()}},In=function(){void 0!==on&&on.each(function(){var e=jQuery(this),t=e.data("config");Ln(e,t)})},Ln=function(e,t){var n=i.Utility.screenSize,o=(100+t[n].colGutter)/t[n].colCount;switch(o-=t[n].colGutter,e.find("li").css({width:o+"%","margin-bottom":t[n].rowGutter+"%","margin-left":0}),t.layoutType){case"masonry":e.find(".lay-productsgrid-gutter-sizer").css("width",t[n].colGutter+"%"),e.find(".lay-productsgrid-col-sizer").css("width",o+"%");var a=e.data("masonry");void 0!==a&&a.layout();break;default:e.find("li").css("margin-right",t[n].colGutter+"%"),e.find("li:nth-child("+t[n].colCount+"n)").css("margin-right",0)}},Tn=function(){window.laytheme.on("content_ready",function(e){var t;switch(on=void 0,e){case"desktop":t=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var n=0!=jQuery("#footer-custom-phone-grid").length,o=0!=jQuery("#custom-phone-grid").length;n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):n&&!o?t=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):n||o||(t=jQuery("#grid, .cover-region-desktop, #footer"))}(on=t.find(".lay-products-thumbnails-grid")).each(function(){var e=jQuery(this),t=e.data("config");!function(e,t){switch(t.layoutType){case"masonry":var n=e.find("ul.lay-products")[0],i=new Masonry(n,{itemSelector:"li",columnWidth:".lay-productsgrid-col-sizer",gutter:".lay-productsgrid-gutter-sizer",percentPosition:!0,transitionDuration:0});e.data("masonry",i)}}(e,t),Ln(e,t),e.addClass("sized")}),lazySizes.autoSizer.checkElems(),i.utility_controller.setImageSizesAttribute(on)})},An={initModule:function(){jQuery(window).on("window_width_changed",In),Tn()}},Nn={updateLanguageSwitcherUrls:function(){Bn()},initModule:function(){Hn()}},Hn=function(){1==frontendPassedData.is_qtranslate_active&&window.laytheme.on("newpage",Bn)},Bn=function(){1==frontendPassedData.is_qtranslate_active&&jQuery.ajax({url:frontendPassedData.wpapiroot+"laytheme/v1/get_qtranslate_langswitcher_urls/",data:{url:window.location.href},method:"GET",success:function(e){for(var t=JSON.parse(e),n=0;n<t.length;n++)jQuery(".qtranxs-lang-menu-item-"+t[n][0]+" a").attr("href",t[n][1])}})},Un=Nn,Rn=function(e){var t=e.getBoundingClientRect();return t.top-200<=window.innerHeight&&t.bottom>=0},Wn=function(e){e.hasAttribute("preload")&&"none"==jQuery(e).attr("preload")&&(jQuery(e).removeAttr("preload"),e.addEventListener("loadeddata",function(){jQuery(this).addClass("loaded")}),e.addEventListener("canplay",function(){jQuery(this).addClass("loaded")}),e.addEventListener("play",function(){jQuery(this).addClass("loaded")}),e.load(),e.hasAttribute("data-autoplay")&&(e.play(),e.setAttribute("autoplay",""),jQuery(e).removeAttr("data-autoplay"),e.addEventListener("canplay",En)))},En=function e(){this.play(),this.removeEventListener("canplay",e)};var Yn,Gn=function(e){new function(e){e=e;var t=null,n=Backbone.Radio.channel("events"),i=_.throttle(function(){t.each(function(){Rn(this)&&Wn(this)})},60);return{init:function(){n.off("scroll",i),e.find("video").length>0&&(t=e.find("video"),setTimeout(function(){i()},100),n.on("scroll",i),jQuery(window).on("fpAfterLoad",i))}}}(e).init()},qn={loadVideosInstantly:function(e){!function(e){e.find("video").each(function(){Wn(this)})}(e)},initLazyLoadVideosOnScroll:function(e){Gn(e)}},Fn={initModule:function(){Jn()}},Vn={desktopContentLoaded:!1,CplContentLoaded:!1},Xn={desktopContentLoaded:!1,CplContentLoaded:!1},Jn=function(){oi(),window.laytheme.on("newpageshown",oi),window.laytheme.on("newpageshown",function(){setTimeout(function(){Kn()},0)}),window.laytheme.on("sizechanged",function(){Kn()})},Kn=function(){switch(i.Utility.screenSize){case"desktop":case"tablet":ti();break;case"phone":ni()}Zn(),ei(),setTimeout(function(){var e="desktop"==i.Utility.screenSize||"tablet"==i.Utility.screenSize?"desktop":"phone";window.laytheme.trigger("content_ready",e,Yn)},0)},Zn=function(){var e=jQuery("#lay-woocommerce");switch(frontendPassedData.image_loading){case"instant_load":mn.load_visible_images_then_rest_controller.initLoadImages(e),i.utility_controller.fadeInImageOnLoadViaParent(e)}},ei=function(){jQuery("video").each(function(){jQuery(this).is(":visible")||this.pause()})},ti=function(){Vn.desktopContentLoaded||(Yn=jQuery("#grid, .cover-region-desktop"),ii(Yn),Vn.desktopContentLoaded=!0),Xn.desktopContentLoaded||((Yn=jQuery("#footer")).length>0&&ii(Yn),Xn.desktopContentLoaded=!0)},ni=function(){jQuery("#custom-phone-grid").length>0?Vn.hasCPL=!0:Vn.hasCPL=!1,jQuery("#footer-custom-phone-grid").length>0?Xn.hasCPL=!0:Xn.hasCPL=!1,Vn.hasCPL?Vn.CplContentLoaded||(Yn=jQuery("#custom-phone-grid, .cover-region-phone"),ii(Yn),Vn.CplContentLoaded=!0):Vn.desktopContentLoaded||(Yn=jQuery("#grid, .cover-region-desktop"),ii(Yn),Vn.desktopContentLoaded=!0),Xn.hasCPL?Xn.CplContentLoaded||(Yn=jQuery("#footer-custom-phone-grid"),ii(Yn),Xn.CplContentLoaded=!0):Xn.desktopContentLoaded||((Yn=jQuery("#footer")).length>0&&ii(Yn),Xn.desktopContentLoaded=!0)},ii=function(e){switch(frontendPassedData.image_loading){case"instant_load":mn.load_visible_images_then_rest_controller.initLoadImages(e),i.utility_controller.fadeInImageOnLoadViaParent(e)}switch(frontendPassedData.image_loading){case"instant_load":qn.loadVideosInstantly(e);break;case"lazy_load":i.Utility.isTouchDevice?qn.loadVideosInstantly(e):qn.initLazyLoadVideosOnScroll(e)}e.find("iframe[data-src]").each(function(){var e=jQuery(this).attr("data-src");jQuery(this).attr("src",e)}),e.find("[data-embed]").each(function(){var e=jQuery(this).attr("data-embed");jQuery(this).html(e)}),"undefined"!=typeof layCarousel&&void 0!==layCarousel.loadNotLazyloadingImagesIn&&layCarousel.loadNotLazyloadingImagesIn(e),"undefined"!=typeof layCarousel&&void 0!==layCarousel.fadeCarousel.loadFirstLazyImage&&layCarousel.fadeCarousel.loadFirstLazyImage(e)},oi=function(){Vn.desktopContentLoaded=!1,Vn.CplContentLoaded=!1,Xn.desktopContentLoaded=!1,Xn.CplContentLoaded=!1},ai=function(){switch(i.Utility.screenSize){case"desktop":case"tablet":if(jQuery(".lay-sitewide-background-video").length>0&&void 0==jQuery(".lay-sitewide-background-video").attr("src")){var e=jQuery(".lay-sitewide-background-video").attr("data-src");jQuery(".lay-sitewide-background-video").attr("src",e)}jQuery(".lay-sitewide-background-video").length>0&&jQuery(".lay-sitewide-background-video")[0].play();break;case"phone":if(jQuery(".lay-sitewide-background-video-mobile").length>0&&void 0==jQuery(".lay-sitewide-background-video-mobile").attr("src")){e=jQuery(".lay-sitewide-background-video-mobile").attr("data-src");jQuery(".lay-sitewide-background-video-mobile").attr("src",e)}jQuery(".lay-sitewide-background-video-mobile").length>0&&jQuery(".lay-sitewide-background-video-mobile")[0].play()}},ri={initModule:function(){ai(),window.laytheme.on("sizechanged",function(){ai()})}};var si,di,li=function(){jQuery(document).on("click",function(e){0==jQuery(e.target).closest(".lay-woocommerce-variations-select").length&&jQuery(".lay-woocommerce-variations-select").removeClass("lay-dropdown-active")}),window.laytheme.on("newpageshown",function(){setTimeout(function(){jQuery(".variations_form").length>0&&jQuery(".variations select").each(function(){var e=new function(e){var t=this;this.$select=e,this.default=this.$select.attr("placeholder"),this.markup=String()+'<div class="lay-woocommerce-variations-select" data-lvs-id="'+this.$select.attr("id")+'" data-lvs-name="'+this.$select.attr("name")+'"><div class="lay-woocommerce-variations-select-selected-field" placeholder="'+this.$select.attr("placeholder")+'">'+this.default+'</div><div class="lay-woocommerce-variations-select-selected-list">',this.$select.find("option").each(function(){if(""!=jQuery(this).attr("value")){var e=this.outerHTML.replace("<option ","<div ").replace("</option>","</div>");t.markup+=e}}),this.markup+=String()+"</div></div>",this.$lay_custom_select_el=jQuery(this.markup),this.bindNewSelect=function(){this.$lay_custom_select_el.find(".lay-woocommerce-variations-select-selected-field").on("click",function(){console.log("option toggle"),t.$lay_custom_select_el.toggleClass("lay-dropdown-active"),jQuery(".lay-woocommerce-variations-select").not(t.$lay_custom_select_el).removeClass("lay-dropdown-active"),t.$lay_custom_select_el.hasClass("lay-dropdown-active")}),this.$lay_custom_select_el.find(".lay-woocommerce-variations-select-selected-list>div").on("click",function(){console.log("option click");var e=jQuery(this).attr("value");console.log("value",e);var n=jQuery(this).text();t.$lay_custom_select_el.find(".lay-woocommerce-variations-select-selected-field").text(n),console.log("_this.$select",t.$select),t.$select.find("option").removeAttr("selected"),console.log("_this.$select.find('option[value=+value+]')",t.$select.find('option[value="'+e+'"]')),t.$select.find('option[value="'+e+'"]')[0].selected="selected",t.$select.trigger("change"),t.$lay_custom_select_el.removeClass("lay-dropdown-active"),jQuery(".woocommerce-variation-add-to-cart .button").removeClass("added")})},this.bindNewSelect(),this.getCustomSelectEl=function(){return this.$lay_custom_select_el}}(jQuery(this)).getCustomSelectEl();jQuery(".lay-variable-products-select-container").append(e)})},100)})},ci=0,ui=ci,hi=!1,fi=0,yi=!1,pi=function(){hi=jQuery("body").hasClass("lay-woocommerce-show-store-notice")},gi=function(e){switch(e){case"desktop":case"tablet":hi&&(jQuery(".sitetitle.position-top, .laynav.position-top, .navbar.position-top").css("margin-top",ci+"px"),jQuery("body").hasClass("woocommerce-page")||"on"!=frontendPassedData.lay_sticky_footer||jQuery(".lay-content").css("min-height","calc( 100vh - "+ci+"px )")),jQuery("body").css("padding-top","");break;case"phone":hi&&(jQuery("body").css("padding-top",fi+ci+"px"),jQuery(".navbar.position-top, .mobile-title, .lay-mobile-icons-wrap").css("margin-top",ci+"px"))}},mi=function(){jQuery(".woocommerce-store-notice__dismiss-link").on("click",function(){jQuery(".sitetitle.position-top, .laynav.position-top, .navbar.position-top").css("margin-top",""),jQuery(".navbar.position-top, .mobile-title, .lay-mobile-icons-wrap").css("margin-top",""),jQuery("body").css("padding-top",""),jQuery(".lay-content").css("min-height",""),yi=!1,jQuery("body").removeClass("lay-woocommerce-show-store-notice").addClass("lay-woocommerce-hide-store-notice"),pi(),jQuery("body").removeClass("lay-woocommerce-store-notice-scrolled-down")})},vi=function(){ci=si.outerHeight()},wi=function(){switch(i.Utility.screenSize){case"phone":0==yi&&(fi=parseInt(jQuery("body").css("padding-top"),10),yi=!0);break;case"tablet":case"desktop":fi=0,yi=!1}},_i=function(){var e,t;mi(),si=jQuery(".woocommerce-store-notice.demo_store"),pi(),hi&&(wi(),vi(),gi(i.Utility.screenSize)),e=Backbone.Radio.channel("events"),t=!1,window.laytheme.on("newpageshown",function(){t=!1}),e.on("scroll",function(){if(hi){var e=window.pageYOffset||document.documentElement.scrollTop;e>=ci&&0==t?(t=!0,jQuery("body").addClass("lay-woocommerce-store-notice-scrolled-down")):e<ci&&1==t&&(t=!1,jQuery("body").removeClass("lay-woocommerce-store-notice-scrolled-down"))}}),window.laytheme.on("sizechanged",function(e){hi&&(wi(),vi(),gi(e))}),jQuery(window).on("window_width_changed",function(){hi&&(ui=ci,vi(),ci!=ui&&gi(i.Utility.screenSize))})},bi=function(){jQuery(document.body).on("wc_fragments_refreshed",function(){"instant_load"==frontendPassedData.image_loading&&jQuery(".xoo-wsc-container .xoo-wsc-img-col img").each(function(){jQuery(this).hasClass("loaded")||(mn.load_visible_images_then_rest_controller.loadImage(jQuery(this)),jQuery(this).addClass("loaded"))})})},ji=function(){jQuery("body").addClass("xoo-wsc-cart-active"),jQuery(".xoo-wsc-modal").addClass("xoo-wsc-cart-active"),jQuery(document.body).trigger("xoo_wsc_cart_toggled",["show"]),i.Utility.isPhoneSize&&xe.hideMobileMenu()},Qi=function(){jQuery(".lay-woocommerce-gallery").length>0&&jQuery(".swiper-slide").length>1&&(i.Utility.isPhoneSize?di=new Swiper(".lay-woocommerce-gallery",{containerModifierClass:"lay-woocommerce-gallery-container-",pagination:{el:".swiper-pagination",type:"bullets"}}):void 0!==di&&di.destroy(!0,!0))},Ci=function(){window.laytheme.on("customizer_show_sidecart",function(){ji()}),window.laytheme.on("customizer_hide_sidecart",function(){jQuery(".xoo-wsch-close").trigger("click")})},xi=function(){var e=jQuery(".lay-woocommerce-related-products-scroller");e.length>0&&e.each(function(){var e=0;jQuery(this).find("li").each(function(){var t=window.getComputedStyle(this);e+=parseInt(this.getBoundingClientRect().width,10)+parseInt(t.marginRight,10)}),jQuery(this).find("ul").css("width",e+1)})},ki=function(){jQuery(window).on("window_width_changed",function(){var e;"phone"==i.Utility.screenSize?xi():(e=jQuery(".lay-woocommerce-related-products-scroller")).length>0&&e.find("ul").css("width","")})},Pi=function(){!function(){jQuery(".checkout.woocommerce-checkout select").each(function(){jQuery(this).selectize({create:!1,sortField:"text"})});var e=0,t=0,n=!0;jQuery(document.body).on("country_to_state_changed",function(i,o,a){if(void 0!==a){a.find(".form-row").removeClass("last-child");var r=a.find(".form-row:last-child").prev();a.find(".form-row:last-child").is(":visible")||r.addClass("last-child")}if(""!=o||void 0===a){if(void 0!==a){var s=a.find("select.state_select")[0];if(void 0===s)return;if(e=jQuery(s).find("option").length,void 0!==s.selectize&&e!=t&&0==n&&1!=e){if(jQuery(s).find("option").length>0){var d=s.selectize;jQuery(s).find("option").each(function(){var e=jQuery(this).attr("value"),t=jQuery(this).text();d.addOption({value:e,text:t})}),d.refreshOptions(),setTimeout(function(){d.settings.placeholder=jQuery(s).closest(".form-row").find("label").text(),d.updatePlaceholder()},0)}}else jQuery(s).selectize({create:!1,sortField:"text"});setTimeout(function(){var e=a.find("select.state_select")[0];if(void 0!==e){var t=e.selectize;t.settings.placeholder=jQuery(e).closest(".form-row").find("label").text(),t.updatePlaceholder()}},0),setTimeout(function(){jQuery(".selectize-control").addClass("select2-container")},0),t=e,n=!1}}else{var l="";jQuery(a).find("input#billing_state").length>0?(l=jQuery(a).find("input#billing_state").closest(".form-row").find("label").text(),jQuery(a).find("input#billing_state").attr("placeholder",l)):jQuery(a).find("input#shipping_state").length>0&&(l=jQuery(a).find("input#shipping_state").closest(".form-row").find("label").text(),jQuery(a).find("input#shipping_state").attr("placeholder",l))}})}(),jQuery(function(e){e.scroll_to_notices=function(e){e.length}}),window.laytheme.on("newpageshown",function(){Qi()}),window.laytheme.on("sizechanged",function(e){Qi()}),1==frontendPassedData.sideCartPluginActive&&jQuery(document).on("click",".laycart a, .lay-cart-icon-wrap",function(e){e.preventDefault(),e.stopPropagation(),ji()}),jQuery(document.body).on("updated_cart_totals",function(){"instant_load"==frontendPassedData.image_loading&&jQuery(".lay-woocommerce-cart-wrap img").each(function(){jQuery(this).hasClass("loaded")||(mn.load_visible_images_then_rest_controller.loadImage(jQuery(this)),jQuery(this).addClass("loaded"))})}),function(){if("undefined"!=typeof MutationObserver&&jQuery(".laycart").length>0){var e=jQuery(".laycart span"),t=jQuery(".lay-cart-icon-wrap"),n=document.getElementsByClassName("xoo-wsc-modal")[0];void 0!==e&&void 0!==n&&new MutationObserver(function(n){var i=jQuery(".xoo-wscb-count").text();""!=i&&0!=i&&void 0!==i||(i=0);var o=e.text(),a=o.indexOf("("),r=o.substr(0,a),s=r+="("+i+")";e.text(s),t.text(i)}).observe(n,{childList:!0})}}(),Ci(),jQuery(document).on("click",".js-lay-woocommerce-plus-qty",function(e){var t=jQuery(e.target).closest(".lay-woocommerce-qty-wrap").find("input"),n=parseInt(t.val(),10),i=n,o=parseInt(t.attr("max"),10);++n>o&&(n=o),t.val(n),i!=n&&t.trigger("input")}),jQuery(document).on("click",".js-lay-woocommerce-minus-qty",function(e){var t=jQuery(e.target).closest(".lay-woocommerce-qty-wrap").find("input"),n=parseInt(t.val(),10),i=n;--n<1&&(n=1),t.val(n),i!=n&&t.trigger("input")}),jQuery(document).on(".cart_item input.input-text.qty:not(#coupon_code)","input",function(){jQuery(this).closest(".cart_item").find(".lay-woocommerce-update-cart-button").removeClass("lay-woocommerce-button-disabled")}),jQuery(document).on("click",".lay-woocommerce-tab-title",function(e){jQuery(this).hasClass("active")?(jQuery(this).removeClass("active"),jQuery(this).next().removeClass("active")):(jQuery(".lay-woocommerce-tab-title.active").removeClass("active"),jQuery(this).addClass("active"),jQuery(".lay-woocommerce-tab-content.active").removeClass("active"),jQuery(this).next().addClass("active"))}),bi(),ki(),jQuery(document).on("input","#coupon_code",function(){""!=jQuery(this).val()?jQuery('.button[name="apply_coupon"]').removeClass("disabled"):jQuery('.button[name="apply_coupon"]').addClass("disabled")}),jQuery("textarea").attr("spellcheck","false"),jQuery("#coupon_code").attr("autocomplete","off"),jQuery("form.checkout_coupon").appendTo("#lay-coupon-target"),jQuery("body").on("keydown input","textarea#order_comments",function(){this.style.removeProperty("height"),this.style.height=this.scrollHeight+2+"px"}).on("mousedown","textarea#order_comments",function(){this.style.removeProperty("height"),this.style.height=this.scrollHeight+2+"px"}),frontendPassedData.sideCartPluginActive||jQuery(document.body).on("updated_cart_totals",function(){}),"phone"==i.Utility.screenSize&&(xi(),jQuery(".woocommerce-notices-wrapper").on("click",function(){jQuery(this).fadeOut()}))},Di={initModule:function(){Pi(),li(),_i()}};Fn.initModule(),Un.initModule(),1!=frontendPassedData.is_customize?st.init():st.cancelLoading(),ne.initModule(),Xe.initModule(),i.utility_controller.initModule(),j(),G.initModule(),V.initModule(),te.default.initModule(),fe.initModule(),ge.default.initModule(),me.initModule(),xe.initModule(),Je.initModule(),et.initModule(),a.initModule(),Gt.initModule(),ln.initModule(),gn.initModule(),zn.initModule(),On.initModule(),An.initModule(),T(),ri.initModule();var zi=jQuery("body").attr("data-type"),Si=jQuery("body").attr("data-id"),$i=jQuery("body").attr("data-slug"),Mi=jQuery("body").attr("data-catid");jQuery(document).ready(function(){Di.initModule(),setTimeout(function(){window.laytheme.trigger("newpage"),window.laytheme.trigger("newpageshown",{},zi,{id:Si,type:zi,slug:$i,catid:Mi})},0)}),n(10),n(9),n(8),n(7)},function(e,t,n){(function(t){e.exports=t.lt_showhide_onscroll_controller=n(3)}).call(this,n(4))},function(e,t,n){(function(t){e.exports=t.lt_utility_controller=n(0)}).call(this,n(4))},function(e,t,n){(function(t){e.exports=t.lt_html5video_controller=n(5)}).call(this,n(4))},function(e,t,n){(function(t){e.exports=t.lt_load_visible_images_then_rest_controller=n(1)}).call(this,n(4))},function(e,t){var n=null!==navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/)?"is-touchdevice":"no-touchdevice";document.documentElement.classList.add(n);var i=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),o=window.devicePixelRatio||1,a=window.screen.width*o,r=window.screen.height*o,s=navigator.userAgent.match(/(Macintosh)/),d=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),l=!1;s=null!==s;var c=!1,u=!1;2048==a&&2732==r&&(c=!0,u=!0),1668==a&&2388==r&&(c=!0,u=!0),2732==a&&2048==r&&(c=!0),1536==a&&2048==r&&(c=!0),1620==a&&2160==r&&(c=!0),1536==a&&2048==r&&(c=!0),1==s&&1==d&&c&&(l=!0),!0===i||l?document.documentElement.classList.add("is-ios"):document.documentElement.classList.add("no-ios"),!0===/(iPad)/g.test(navigator.userAgent)||l?u?document.documentElement.classList.add("is-ipad-without-homebutton"):document.documentElement.classList.add("is-ipad"):document.documentElement.classList.add("no-ipad");var h=/(iPhone)/g.test(navigator.userAgent);!0===i&&1125===a&&2436===r||!0===i&&828===a&&1792===r||!0===i&&1242===a&&2688===r?document.documentElement.classList.add("is-iphonex"):!0===h?document.documentElement.classList.add("is-iphone"):document.documentElement.classList.add("no-iphone");var f=window.chrome,y=window.navigator,p=y.vendor,g=void 0!==window.opr,m=y.userAgent.indexOf("Edge")>-1,v="no-chrome-no-safari";y.userAgent.match("CriOS")?v="is-chrome":null!==f&&void 0!==f&&"Google Inc."===p&&!1===g&&!1===m&&(v="is-chrome"),!0===navigator.userAgent.toLowerCase().indexOf("android")>-1&&document.documentElement.classList.add("is-android"),!0===d&&(v="is-safari"),document.documentElement.classList.add(v),"is-chrome"!=v&&document.documentElement.classList.add("no-chrome")}]);